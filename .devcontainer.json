// See https://aka.ms/vscode-remote/devcontainer.json for format details or
// https://aka.ms/vscode-dev-containers/definitions for sample configurations.
{
	"dockerFile": "Dockerfile.vscode",
	// "extensions": ["ms-python.python"],
	"remoteUser": "node",
	"mounts": [
		"source=/home/ubuntu/vscode/.ssh/id_rsa,target=/home/node/.ssh/id_rsa,type=bind,consistency=cached",
		// "source=/home/ubuntu/vscode/GitHub/${env:workspaceFolderBasename},target=/app,type=bind,consistency=cached"
		// "source=${localWorkspaceFolder},target=/app,type=bind,consistency=cached"
		
			// 	"-v", "/home/ubuntu/.gitconfig:/root/.gitconfig:ro,type=bind,consistency=cached",


	  ],
	"workspaceFolder": "/workspace",
	// "workspaceMount": "source=/home/ubuntu/vscode/GitHub/${env:workspaceFolderBasename},target=/workspace,type=bind,consistency=cached",	
	"workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached",	

	// "runArgs": [
	// 	// Mount config directory
	// 	"-v", "/home/ubuntu/Github/${workspaceFolderBasename}:/workspaces,type=bind,consistency=cached",
    //     // Mount .ssh directories (so git can still work)
    //     "-v", "/home/ubuntu/.ssh/id_rsa:/root/.ssh-localhost/id_rsa:ro,type=bind,consistency=cached",
	// 	"-v", "/home/ubuntu/.ssh/known_hosts:/root/.ssh-localhost/known_hosts:ro,type=bind,consistency=cached",
	// 	"-v", "/home/ubuntu/.gitconfig:/root/.gitconfig:ro,type=bind,consistency=cached",
	// 	"-v", "/home/ubuntu/Downloads:/tmp/downloads,type=bind,consistency=cached"
    // ],
    // Copy the contents to the correct location and set permissions
	// "postCreateCommand": "mkdir -p ~/.ssh && cp -r ~/.ssh-localhost/* ~/.ssh && chmod 700 ~/.ssh && chmod 600 ~/.ssh/*",
	"env": {
        "VSCODE_DEBUG_MODE": "true"
    }
}