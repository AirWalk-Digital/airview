/*! For license information please see compliance-table-compliance-table-stories.35c5d0d3.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkairview_compliance_ui=self.webpackChunkairview_compliance_ui||[]).push([[908],{"./src/stories/compliance-table/compliance-table.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LoadedWithMultipleIssues:()=>LoadedWithMultipleIssues,LoadedWithNoIssues:()=>LoadedWithNoIssues,LoadedWithSingleIssue:()=>LoadedWithSingleIssue,Loading:()=>Loading,WithoutRequiredPermissions:()=>WithoutRequiredPermissions,__namedExportsOrder:()=>__namedExportsOrder,default:()=>compliance_table_stories});__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("../../node_modules/react/index.js"),prop_types=(__webpack_require__("../../node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../node_modules/prop-types/index.js")),prop_types_default=__webpack_require__.n(prop_types),useTheme=__webpack_require__("../../node_modules/@mui/material/styles/useTheme.js"),Skeleton=__webpack_require__("../../node_modules/@mui/material/Skeleton/Skeleton.js"),TableContainer=__webpack_require__("../../node_modules/@mui/material/TableContainer/TableContainer.js"),Paper=__webpack_require__("../../node_modules/@mui/material/Paper/Paper.js"),Table=__webpack_require__("../../node_modules/@mui/material/Table/Table.js"),TableBody=__webpack_require__("../../node_modules/@mui/material/TableBody/TableBody.js"),dayjs_min=__webpack_require__("../../node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),relativeTime=__webpack_require__("../../node_modules/dayjs/plugin/relativeTime.js"),relativeTime_default=__webpack_require__.n(relativeTime),updateLocale=__webpack_require__("../../node_modules/dayjs/plugin/updateLocale.js"),updateLocale_default=__webpack_require__.n(updateLocale),Toolbar=__webpack_require__("../../node_modules/@mui/material/Toolbar/Toolbar.js"),Typography=__webpack_require__("../../node_modules/@mui/material/Typography/Typography.js"),Box=__webpack_require__("../../node_modules/@mui/material/Box/Box.js"),Tooltip=__webpack_require__("../../node_modules/@mui/material/Tooltip/Tooltip.js"),IconButton=__webpack_require__("../../node_modules/@mui/material/IconButton/IconButton.js"),Menu=__webpack_require__("../../node_modules/@mui/material/Menu/Menu.js"),MenuItem=__webpack_require__("../../node_modules/@mui/material/MenuItem/MenuItem.js"),ListItemIcon=__webpack_require__("../../node_modules/@mui/material/ListItemIcon/ListItemIcon.js"),Checkbox=__webpack_require__("../../node_modules/@mui/material/Checkbox/Checkbox.js"),ListItemText=__webpack_require__("../../node_modules/@mui/material/ListItemText/ListItemText.js"),FilterList=__webpack_require__("../../node_modules/@mui/icons-material/FilterList.js");var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ComplianceTableToolbar(_ref){var title=_ref.title,filters=_ref.filters,activeFilters=_ref.activeFilters,onFilterChange=_ref.onFilterChange,testid=_ref.testid,classes={toolbar:{paddingLeft:2,paddingRight:1},toolbarFilters:{marginLeft:"auto"},checkboxContainer:{minWidth:30},checkbox:{padding:0,"$checkboxChecked&:hover, &:hover":{backgroundColor:"transparent"}},checkboxChecked:{}},_useState2=_slicedToArray((0,react.useState)(null),2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];return title||filters&&!(filters.length<2)?(0,jsx_runtime.jsxs)(Toolbar.Z,{sx:{"&.MuiToolbar-gutters":classes.toolbar},"data-testid":testid,children:[title&&(0,jsx_runtime.jsx)(Typography.Z,{variant:"h6",component:"div",children:title}),filters&&filters.length>1&&(0,jsx_runtime.jsxs)(Box.Z,{component:"div",sx:classes.toolbarFilters,children:[(0,jsx_runtime.jsx)(Tooltip.Z,{title:"Filter",placement:"bottom-end",children:(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(IconButton.Z,{"aria-controls":"filter-menu","aria-haspopup":"true",onClick:function handleClick(event){setAnchorEl(event.currentTarget)},"aria-label":"Show filters",children:(0,jsx_runtime.jsx)(FilterList.Z,{})})})}),(0,jsx_runtime.jsx)(Menu.Z,{id:"filter-menu",anchorEl,keepMounted:!0,open:Boolean(anchorEl),onClose:function handleClose(){setAnchorEl(null)},anchorOrigin:{vertical:12,horizontal:36},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{"aria-hidden":Boolean(!anchorEl),"aria-label":"Filters"},children:filters.map((function(filter){return(0,jsx_runtime.jsxs)(MenuItem.Z,{onClick:function onClick(){return onFilterChange(filter)},dense:!0,children:[(0,jsx_runtime.jsx)(ListItemIcon.Z,{sx:{"&.MuiListItemIcon-root":classes.checkboxContainer},children:(0,jsx_runtime.jsx)(Checkbox.Z,{checked:activeFilters.includes(filter),color:"default",disableRipple:!0,tabIndex:-1,size:"small",sx:{"&.MuiCheckbox-root":classes.checkbox,"&.Mui-checked":classes.checkboxChecked},inputProps:{"aria-labelledby":filter,"aria-checked":activeFilters.includes(filter)}})}),(0,jsx_runtime.jsx)(ListItemText.Z,{id:filter,primary:filter})]},filter)}))})]})]}):null}ComplianceTableToolbar.displayName="ComplianceTableToolbar",ComplianceTableToolbar.propTypes={title:prop_types_default().string,filters:prop_types_default().arrayOf(prop_types_default().string),activeFilters:prop_types_default().arrayOf(prop_types_default().string),onFilterChange:prop_types_default().func,testid:prop_types_default().string},ComplianceTableToolbar.__docgenInfo={description:"",methods:[],displayName:"ComplianceTableToolbar",props:{title:{description:"",type:{name:"string"},required:!1},filters:{description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},activeFilters:{description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},onFilterChange:{description:"",type:{name:"func"},required:!1},testid:{description:"",type:{name:"string"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/compliance-table/compliance-table-toolbar.js"]={name:"ComplianceTableToolbar",docgenInfo:ComplianceTableToolbar.__docgenInfo,path:"src/features/compliance-table/compliance-table-toolbar.js"});var TableHead=__webpack_require__("../../node_modules/@mui/material/TableHead/TableHead.js"),TableRow=__webpack_require__("../../node_modules/@mui/material/TableRow/TableRow.js"),TableCell=__webpack_require__("../../node_modules/@mui/material/TableCell/TableCell.js"),TableSortLabel=__webpack_require__("../../node_modules/@mui/material/TableSortLabel/TableSortLabel.js");function ComplianceTableHead(_ref){var ageOrder=_ref.ageOrder,sortable=_ref.sortable,onSortClick=_ref.onSortClick,classes={ticketsTableColumn:{width:250},ageTableColumn:{width:180}},sharedClasses={applicationTableCell:{paddingLeft:0},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:"1px"}};return(0,jsx_runtime.jsx)(TableHead.Z,{children:(0,jsx_runtime.jsxs)(TableRow.Z,{children:[(0,jsx_runtime.jsx)(TableCell.Z,{padding:"checkbox"}),(0,jsx_runtime.jsx)(TableCell.Z,{sx:{"&.MuiTableCell-root":sharedClasses.applicationTableCell},children:"Name"}),(0,jsx_runtime.jsx)(TableCell.Z,{sx:{"&.MuiTableCell-root":classes.ticketsTableColumn},children:"Ticket/s"}),(0,jsx_runtime.jsx)(TableCell.Z,{sx:{"&.MuiTableCell-root":classes.ageTableColumn},sortDirection:ageOrder,children:sortable?(0,jsx_runtime.jsxs)(TableSortLabel.Z,{active:!0,direction:ageOrder,onClick:onSortClick,"aria-label":"Sort by age",children:["Age",(0,jsx_runtime.jsx)(Box.Z,{component:"span",sx:sharedClasses.visuallyHidden,"aria-label":"Sorting order",children:"desc"===ageOrder?"Age sorted descending":"Age sorted ascending"})]}):"Age"}),(0,jsx_runtime.jsx)(TableCell.Z,{})]})})}ComplianceTableHead.displayName="ComplianceTableHead",ComplianceTableHead.propTypes={ageOrder:prop_types_default().oneOf(["asc","desc"]).isRequired,sortable:prop_types_default().bool.isRequired,onSortClick:prop_types_default().func.isRequired},ComplianceTableHead.__docgenInfo={description:"",methods:[],displayName:"ComplianceTableHead",props:{ageOrder:{description:"",type:{name:"enum",value:[{value:'"asc"',computed:!1},{value:'"desc"',computed:!1}]},required:!0},sortable:{description:"",type:{name:"bool"},required:!0},onSortClick:{description:"",type:{name:"func"},required:!0}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/compliance-table/compliance-table-head.js"]={name:"ComplianceTableHead",docgenInfo:ComplianceTableHead.__docgenInfo,path:"src/features/compliance-table/compliance-table-head.js"});var Chip=__webpack_require__("../../node_modules/@mui/material/Chip/Chip.js"),Collapse=__webpack_require__("../../node_modules/@mui/material/Collapse/Collapse.js"),Security=__webpack_require__("../../node_modules/@mui/icons-material/Security.js"),KeyboardArrowDown=__webpack_require__("../../node_modules/@mui/icons-material/KeyboardArrowDown.js"),KeyboardArrowUp=__webpack_require__("../../node_modules/@mui/icons-material/KeyboardArrowUp.js");function compliance_table_row_slicedToArray(arr,i){return function compliance_table_row_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function compliance_table_row_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function compliance_table_row_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return compliance_table_row_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return compliance_table_row_arrayLikeToArray(o,minLen)}(arr,i)||function compliance_table_row_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function compliance_table_row_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ComplianceTableRow(_ref){var environment=_ref.environment,raisedDate=_ref.raisedDate,timeSinceRaised=_ref.timeSinceRaised,qualityModel=_ref.qualityModel,severity=_ref.severity,name=_ref.name,tickets=_ref.tickets,children=_ref.children,classes={tableBodyRowRoot:{"& > *":{borderBottom:"unset"}},controlStatusIconRoot:{width:26,height:26,padding:"4px",borderRadius:"100%",color:"#fff",display:"block"},controlStatusIconFontSmall:{fontSize:"16px"},controlStatusIconSeverity_high:{backgroundColor:"error.main"},controlStatusIconSeverity_medium:{backgroundColor:"warning.light"},controlStatusIconSeverity_low:{backgroundColor:"grey.500"},nameEnvBase:{display:"block",wordBreak:"break-word"},env:{color:"grey.600",fontSize:12},applicationTicketsContainer:{display:"flex",flexWrap:"wrap",margin:"-4px"},applicationTicketLabel:{fontWeight:"medium"},applicationTicketRoot:{margin:.5,borderRadius:1,flex:"1 1 auto",maxWidth:250},applicationTicketType_incident:{backgroundColor:"error.main",color:"error.contrastText"},applicationTicketType_problem:{backgroundColor:"warning.light",color:"rgba(0, 0, 0, 0.87)"},applicationTicketType_risk:{backgroundColor:"grey.400",color:"rgba(0, 0, 0, 0.87)"},ageInfoBase:{display:"block"},age:{composes:"$ageInfoBase"},raisedDate:{composes:"$ageInfoBase",color:"grey.600",fontSize:12}},sharedClasses={applicationTableCell:{paddingLeft:0},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:"1px"}},_useState2=compliance_table_row_slicedToArray((0,react.useState)(!1),2),open=_useState2[0],setOpen=_useState2[1],IconComponent=(0,react.useMemo)((function(){return Security.Z}),[]);return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)(TableRow.Z,{sx:{"&.MuiTableRow-root":classes.tableBodyRowRoot},children:[(0,jsx_runtime.jsxs)(TableCell.Z,{"aria-label":"status",children:[(0,jsx_runtime.jsx)(Tooltip.Z,{title:"Control type: "+qualityModel+". Severity: "+severity,placement:"bottom-start",children:(0,jsx_runtime.jsx)(IconComponent,{fontSize:"small",sx:{"&.MuiSvgIcon-root":Object.assign({},classes.controlStatusIconRoot,classes["controlStatusIconSeverity_"+severity])}})}),(0,jsx_runtime.jsx)(Box.Z,{component:"span",sx:sharedClasses.visuallyHidden,children:"Control type: "+qualityModel+". Severity: "+severity})]}),(0,jsx_runtime.jsxs)(TableCell.Z,{sx:{"&.MuiTableCell-root":sharedClasses.applicationTableCell},children:[(0,jsx_runtime.jsx)(Box.Z,{component:"span",sx:classes.nameEnvBase,"aria-label":"name",children:name}),(0,jsx_runtime.jsx)(Box.Z,{component:"span",sx:Object.assign({},classes.env,classes.nameEnvBase),"aria-label":"environment",children:environment})]}),(0,jsx_runtime.jsx)(TableCell.Z,{"aria-label":"tickets",children:(0,jsx_runtime.jsx)(Box.Z,{component:"div",sx:classes.applicationTicketsContainer,children:null==tickets?void 0:tickets.map((function(ticket,index){return(0,jsx_runtime.jsx)(Chip.Z,{size:"small",label:ticket.reference,sx:{"&.MuiChip-root":Object.assign({},classes.applicationTicketRoot,classes["applicationTicketType_"+ticket.type]),"&.MuiChip-label":classes.applicationTicketLabel},"aria-label":"Ticket type: "+ticket.type},index)}))})}),(0,jsx_runtime.jsxs)(TableCell.Z,{children:[(0,jsx_runtime.jsx)(Box.Z,{component:"span",sx:classes.age,"aria-label":"Time since raised",children:timeSinceRaised}),(0,jsx_runtime.jsxs)(Box.Z,{sx:classes.raisedDate,"aria-label":"Raised date",children:["(",raisedDate,")"]})]}),(0,jsx_runtime.jsx)(TableCell.Z,{children:(0,jsx_runtime.jsx)(IconButton.Z,{"aria-label":open?"Collapse row":"Expand row",size:"small",onClick:function onClick(){return setOpen(!open)},children:open?(0,jsx_runtime.jsx)(KeyboardArrowUp.Z,{}):(0,jsx_runtime.jsx)(KeyboardArrowDown.Z,{})})})]}),(0,jsx_runtime.jsx)(TableRow.Z,{"aria-hidden":!open,children:(0,jsx_runtime.jsx)(TableCell.Z,{padding:"none",colSpan:5,children:(0,jsx_runtime.jsx)(Collapse.Z,{in:open,timeout:"auto",children})})})]})}ComplianceTableRow.displayName="ComplianceTableRow",ComplianceTableRow.propTypes={environment:prop_types_default().string.isRequired,raisedDate:prop_types_default().string.isRequired,timeSinceRaised:prop_types_default().string.isRequired,qualityModel:prop_types_default().oneOf(["security","operational","task"]).isRequired,severity:prop_types_default().oneOf(["high","medium","low"]).isRequired,name:prop_types_default().string.isRequired,tickets:prop_types_default().arrayOf(prop_types_default().shape({reference:prop_types_default().string.isRequired,type:prop_types_default().oneOf(["incident","problem","risk"])})).isRequired,children:prop_types_default().node},ComplianceTableRow.__docgenInfo={description:"",methods:[],displayName:"ComplianceTableRow",props:{environment:{description:"",type:{name:"string"},required:!0},raisedDate:{description:"",type:{name:"string"},required:!0},timeSinceRaised:{description:"",type:{name:"string"},required:!0},qualityModel:{description:"",type:{name:"enum",value:[{value:'"security"',computed:!1},{value:'"operational"',computed:!1},{value:'"task"',computed:!1}]},required:!0},severity:{description:"",type:{name:"enum",value:[{value:'"high"',computed:!1},{value:'"medium"',computed:!1},{value:'"low"',computed:!1}]},required:!0},name:{description:"",type:{name:"string"},required:!0},tickets:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{reference:{name:"string",required:!0},type:{name:"enum",value:[{value:'"incident"',computed:!1},{value:'"problem"',computed:!1},{value:'"risk"',computed:!1}],required:!1}}}},required:!0},children:{description:"",type:{name:"node"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/compliance-table/compliance-table-row.js"]={name:"ComplianceTableRow",docgenInfo:ComplianceTableRow.__docgenInfo,path:"src/features/compliance-table/compliance-table-row.js"});var Button=__webpack_require__("../../node_modules/@mui/material/Button/Button.js"),OpenInNew=__webpack_require__("../../node_modules/@mui/icons-material/OpenInNew.js");function getRisk(impact,probability){if(2===impact&&3===probability)return 3;var n=impact+probability;return n<4?1:n>5?3:2}__webpack_require__("../../node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.trim-start.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("../../node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("../../node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.create.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.reverse.js");var Dialog=__webpack_require__("../../node_modules/@mui/material/Dialog/Dialog.js"),DialogTitle=__webpack_require__("../../node_modules/@mui/material/DialogTitle/DialogTitle.js"),DialogContent=__webpack_require__("../../node_modules/@mui/material/DialogContent/DialogContent.js"),Grid=__webpack_require__("../../node_modules/@mui/material/Grid/Grid.js"),TextField=__webpack_require__("../../node_modules/@mui/material/TextField/TextField.js"),FormLabel=__webpack_require__("../../node_modules/@mui/material/FormLabel/FormLabel.js"),ButtonGroup=__webpack_require__("../../node_modules/@mui/material/ButtonGroup/ButtonGroup.js"),FormControl=__webpack_require__("../../node_modules/@mui/material/FormControl/FormControl.js"),InputLabel=__webpack_require__("../../node_modules/@mui/material/InputLabel/InputLabel.js"),Select=__webpack_require__("../../node_modules/@mui/material/Select/Select.js"),Switch=__webpack_require__("../../node_modules/@mui/material/Switch/Switch.js"),DialogActions=__webpack_require__("../../node_modules/@mui/material/DialogActions/DialogActions.js"),CircularProgress=__webpack_require__("../../node_modules/@mui/material/CircularProgress/CircularProgress.js"),Warning=__webpack_require__("../../node_modules/@mui/icons-material/Warning.js"),LocalizationProvider=__webpack_require__("../../node_modules/@mui/x-date-pickers/LocalizationProvider/LocalizationProvider.js"),DatePicker=__webpack_require__("../../node_modules/@mui/x-date-pickers/DatePicker/DatePicker.js"),index_esm=__webpack_require__("../../node_modules/@date-io/dayjs/build/index.esm.js"),icon_chip=__webpack_require__("./src/features/icon-chip/icon-chip.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function compliance_table_accept_risk_dialog_slicedToArray(arr,i){return function compliance_table_accept_risk_dialog_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function compliance_table_accept_risk_dialog_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function compliance_table_accept_risk_dialog_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return compliance_table_accept_risk_dialog_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return compliance_table_accept_risk_dialog_arrayLikeToArray(o,minLen)}(arr,i)||function compliance_table_accept_risk_dialog_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function compliance_table_accept_risk_dialog_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ComplianceTableAcceptRiskDialog(_ref){var open=_ref.open,_onClose=_ref.onClose,onAccept=_ref.onAccept,exemptions=_ref.exemptions,applicationId=_ref.applicationId,impactLevel=_ref.impactLevel,theme=(0,useTheme.Z)(),classes={border:{border:"1px solid #000"},limitedExemptionGridItem:{display:"flex",flexDirection:"column"},limitedExemptionLabel:{margin:0},limitedexemptionswitch:{marginTop:"-2px"},exemptionEnd:{margin:0,width:"100%","& .MuiInputBase-input":{paddingTop:"10.5px",paddingBottom:"10.5px",height:"1.1876em"},"& .MuiInputLabel-outlined:not(.MuiInputLabel-shrink)":{transform:"translate(14px, 12px) scale(1)"}},inputLabel:{display:"block",marginTop:"-5px",marginBottom:"6px",fontSize:12},selectedBtnGroupItem:{"&, &:hover":{backgroundColor:"primary.main",color:"common.white"},"&[disabled]":{backgroundColor:"action.disabledBackground",color:"action.disabled"}},submitActionContainer:{position:"relative"},submitActionProgressContainer:{position:"absolute",display:"inline-flex",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}},probabilities=(0,react.useMemo)((function(){return["Low","Moderate","High","Absolute"]}),[]),impacts=(0,react.useMemo)((function(){return["Low","Medium","High"]}),[]),impactLevelData={1:{label:"Low",color:theme.palette.success.main},2:{label:"Medium",color:theme.palette.warning.main},3:{label:"High",color:theme.palette.error.main}},initialState={summary:{value:"",valid:!1},mitigation:{value:"",valid:!1},probability:{value:probabilities[0],valid:!0},impact:{value:impacts[0],valid:!0},resources:{value:[],valid:!1},limitedExemption:{value:!1},exemptionEnd:{value:new Date},notes:{value:""}},_useState2=compliance_table_accept_risk_dialog_slicedToArray((0,react.useState)(Object.assign({},initialState)),2),formData=_useState2[0],setFormData=_useState2[1],_useState4=compliance_table_accept_risk_dialog_slicedToArray((0,react.useState)(!1),2),submitting=_useState4[0],setSubmitting=_useState4[1],getImpactLevel=(0,react.useMemo)((function(){return impactLevel(impacts.indexOf(formData.impact.value)+1,probabilities.indexOf(formData.probability.value)+1)}),[formData.probability.value,formData.impact.value,probabilities,impacts,impactLevel]),handleOnSubmit=function(){var _ref4=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,setSubmitting(!0),_context.next=4,onAccept(Object.assign({},formData,{applicationId:{value:applicationId}}));case 4:_onClose(),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),console.log("Something went wrong attempting to submit risk");case 10:case"end":return _context.stop()}}),_callee,null,[[0,7]])})));return function handleOnSubmit(){return _ref4.apply(this,arguments)}}();return(0,jsx_runtime.jsxs)(Dialog.Z,{open,onClose:function onClose(event,reason){"backdropClick"!==reason&&_onClose()},maxWidth:"md",fullWidth:!0,TransitionProps:{onExited:function handleOnExit(){setFormData(Object.assign({},initialState)),setSubmitting(!1)}},children:[(0,jsx_runtime.jsx)(DialogTitle.Z,{children:"Accept Risks"}),(0,jsx_runtime.jsx)(DialogContent.Z,{dividers:!0,children:(0,jsx_runtime.jsxs)(Grid.ZP,{container:!0,spacing:2,children:[(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:12,children:(0,jsx_runtime.jsx)(TextField.Z,{label:"Summary",variant:"outlined",fullWidth:!0,size:"small",required:!0,name:"summary",InputLabelProps:{htmlFor:"summary-"+applicationId},inputProps:{id:"summary-"+applicationId},value:formData.summary.value,onChange:function onChange(event){var value=event.target.value;setFormData(Object.assign({},formData,{summary:{value:value.trimStart(),valid:value.trimStart().length>0}}))},disabled:submitting})}),(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:12,children:(0,jsx_runtime.jsx)(TextField.Z,{label:"Mitigation",variant:"outlined",fullWidth:!0,size:"small",required:!0,name:"mitigation",InputLabelProps:{htmlFor:"mitigation-"+applicationId},inputProps:{id:"mitigation-"+applicationId},value:formData.mitigation.value,onChange:function onChange(event){var value=event.target.value;setFormData(Object.assign({},formData,{mitigation:{value:value.trimStart(),valid:value.trimStart().length>0}}))},disabled:submitting})}),(0,jsx_runtime.jsxs)(Grid.ZP,{item:!0,xs:12,sm:"auto",children:[(0,jsx_runtime.jsx)(FormLabel.Z,{required:!0,sx:classes.inputLabel,id:"probability-"+applicationId,children:"Probability"}),(0,jsx_runtime.jsx)(ButtonGroup.Z,{color:"primary",disableElevation:!0,disableRipple:!0,size:"small",variant:"outlined",name:"probability",disabled:submitting,"aria-labelledby":"probability-"+applicationId,children:probabilities.map((function(probability){return(0,jsx_runtime.jsx)(Button.Z,{name:probability,onClick:function onClick(event){setFormData(Object.assign({},formData,{probability:{value:event.currentTarget.name}}))},sx:[formData.probability.value===probability&&classes.selectedBtnGroupItem],disableElevation:!0,disableRipple:!0,size:"small","aria-selected":formData.probability.value===probability,children:probability},probability)}))})]}),(0,jsx_runtime.jsxs)(Grid.ZP,{item:!0,xs:12,sm:"auto",children:[(0,jsx_runtime.jsx)(FormLabel.Z,{required:!0,sx:classes.inputLabel,id:"impact-"+applicationId,children:"Impact"}),(0,jsx_runtime.jsx)(ButtonGroup.Z,{color:"primary",disableElevation:!0,disableRipple:!0,size:"small",name:"impact","aria-labelledby":"impact-"+applicationId,disabled:submitting,children:impacts.map((function(impact){return(0,jsx_runtime.jsx)(Button.Z,{name:impact,onClick:function onClick(event){return setFormData(Object.assign({},formData,{impact:{value:event.currentTarget.name}}))},sx:[formData.impact.value===impact&&classes.selectedBtnGroupItem],disableElevation:!0,disableRipple:!0,size:"small","aria-selected":formData.impact.value===impact,children:impact},impact)}))})]}),(0,jsx_runtime.jsxs)(Grid.ZP,{item:!0,xs:12,sm:"auto",children:[(0,jsx_runtime.jsx)(FormLabel.Z,{sx:classes.inputLabel,children:"Impact Level"}),(0,jsx_runtime.jsx)(icon_chip.X,{color:impactLevelData[getImpactLevel].color,icon:(0,jsx_runtime.jsx)(Warning.Z,{}),label:impactLevelData[getImpactLevel].label,labelColor:"#fff","aria-label":"Impact Level"})]}),(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:12,md:7,children:(0,jsx_runtime.jsxs)(FormControl.Z,{fullWidth:!0,size:"small",variant:"outlined",required:!0,children:[(0,jsx_runtime.jsx)(InputLabel.Z,{id:"resources-"+applicationId,children:"Resources"}),(0,jsx_runtime.jsx)(Select.Z,{labelId:"resources-"+applicationId,label:"Resources",multiple:!0,value:formData.resources.value,onChange:function onChange(event){return setFormData(Object.assign({},formData,{resources:{value:event.target.value,valid:0!==event.target.value.length}}))},MenuProps:{keepMounted:!0},disabled:submitting,children:exemptions.map((function(exemption){return(0,jsx_runtime.jsx)(MenuItem.Z,{value:exemption.name,disabled:"none"!==exemption.status,children:"pending"===exemption.status?exemption.name+" (pending)":exemption.name},exemption.name)}))})]})}),(0,jsx_runtime.jsxs)(Grid.ZP,{item:!0,xs:12,md:2,sx:{"&.MuiGrid-item":classes.limitedExemptionGridItem},children:[(0,jsx_runtime.jsx)(FormLabel.Z,{sx:classes.inputLabel,htmlFor:"limited-exemption-"+applicationId,children:"Limited Exemption?"}),(0,jsx_runtime.jsx)(Switch.Z,{sx:classes.limitedexemptionswitch,checked:formData.limitedExemption.value,onChange:function onChange(event){var value=event.target.checked;setFormData(Object.assign({},formData,{limitedExemption:{value},exemptionEnd:Object.assign({},formData.exemptionEnd,{value:value?formData.exemptionEnd.value:new Date,valid:!0})}))},name:"Limited exemption",color:"primary",size:"small",edge:"start",id:"limited-exemption-"+applicationId,disabled:submitting})]}),(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:12,md:3,children:formData.limitedExemption.value&&(0,jsx_runtime.jsx)(LocalizationProvider._,{dateAdapter:index_esm.Z,children:(0,jsx_runtime.jsx)(DatePicker.M,{label:"Exemption End",inputFormat:"DD/MM/YYYY",disablePast:!0,value:formData.exemptionEnd.value,onChange:function onChange(date){var valid=!0;date&&date.isValid()&&!date.isBefore(new Date)||(valid=!1),setFormData(Object.assign({},formData,{exemptionEnd:{value:date,valid}}))},renderInput:function renderInput(params){return(0,jsx_runtime.jsx)(TextField.Z,Object.assign({sx:classes.exemptionEnd,required:formData.limitedExemption.value},params))},disabled:submitting,PopperProps:{placement:"auto"}})})}),(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:12,children:(0,jsx_runtime.jsx)(TextField.Z,{label:"Notes",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,size:"small",name:"notes",InputLabelProps:{htmlFor:"notes-"+applicationId},inputProps:{id:"notes-"+applicationId},value:formData.notes.value,onChange:function onChange(event){var value=event.target.value;setFormData(Object.assign({},formData,{notes:{value:value.trimStart()}}))},disabled:submitting})}),(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:12,children:(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",color:"textPrimary",children:"* denotes a required field"})})]})}),(0,jsx_runtime.jsxs)(DialogActions.Z,{children:[(0,jsx_runtime.jsxs)(Box.Z,{component:"div",sx:classes.submitActionContainer,children:[(0,jsx_runtime.jsx)(Button.Z,{onClick:handleOnSubmit,variant:"contained",color:"primary",disableElevation:!0,type:"submit",disabled:!function isFormValid(){for(var formValid=!0,_i2=0,_Object$entries=Object.entries(formData);_i2<_Object$entries.length;_i2++){var value=compliance_table_accept_risk_dialog_slicedToArray(_Object$entries[_i2],2)[1];if(void 0!==value.valid&&!1===value.valid){formValid=!1;break}}return formValid}()||submitting,children:submitting?"Submitting":"Submit"}),submitting&&(0,jsx_runtime.jsx)(Box.Z,{component:"div",sx:classes.submitActionProgressContainer,children:(0,jsx_runtime.jsx)(CircularProgress.Z,{size:20})})]}),(0,jsx_runtime.jsx)(Button.Z,{sx:{"&:not(first-of-type)":{marginLeft:"8px"}},onClick:_onClose,variant:"contained",disableElevation:!0,disabled:submitting,children:"Cancel"})]})]})}function compliance_table_row_detail_slicedToArray(arr,i){return function compliance_table_row_detail_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function compliance_table_row_detail_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function compliance_table_row_detail_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return compliance_table_row_detail_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return compliance_table_row_detail_arrayLikeToArray(o,minLen)}(arr,i)||function compliance_table_row_detail_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function compliance_table_row_detail_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ComplianceTableRowDetail(_ref){var _detailData$framework,detailData=_ref.detailData,onAcceptOfRisk=_ref.onAcceptOfRisk,applicationId=_ref.applicationId,classes={additionalInfoContainer:{borderTop:1,borderTopColor:"divider",display:"flex",justifyContent:"space-between"},instanceInfo:{listStyle:"none",padding:2,margin:0,flex:"1 1 74.5%"},instanceInfoItem:{padding:1,display:"flex",justifyContent:"space-between",alignItems:"center","&:not(:last-of-type)":{borderBottom:1,borderBottomColor:"divider"},"& > span:first-of-type":{fontWeight:"bold"},"& .MuiButton-root":{marginLeft:1,fontSize:12,"& .MuiSvgIcon-root":{fontSize:14}}},instances:{listStyle:"none",textAlign:"right",display:"flex",justifyContent:"flex-end",flexWrap:"wrap"},instanceItem:{paddingLeft:1,wordBreak:"break-word","&:not(:last-child):after":{content:"','"}},pendingInstance:{color:"text.primary"},control:{textAlign:"right",wordBreak:"break-word"},instanceActions:{flex:"1 1 25.5%",paddingTop:3,paddingRight:2,"& .MuiButton-root":{marginBottom:1,fontSize:12}},loadingInstanceInfoRow:{margin:1},instanceActionsLoading:{paddingTop:2},loadingErrorFeedbackContainer:{borderTop:1,borderTopColor:"divider",padding:2}},_useState2=compliance_table_row_detail_slicedToArray((0,react.useState)(!1),2),dialogOpen=_useState2[0],setDialogOpen=_useState2[1],actionableRisks=(0,react.useMemo)((function(){return detailData.instances.filter((function(instance){return"none"===instance.status})).length}),[detailData]);return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)(Box.Z,{sx:classes.additionalInfoContainer,"aria-label":"Additional data",children:[(0,jsx_runtime.jsxs)(Box.Z,{component:"ul",sx:classes.instanceInfo,children:[(0,jsx_runtime.jsxs)(Box.Z,{component:"li",sx:classes.instanceInfoItem,children:[(0,jsx_runtime.jsx)("span",{children:"Resources:"}),(0,jsx_runtime.jsx)(Box.Z,{component:"ul",sx:classes.instances,children:detailData.instances.map((function(instance){return(0,jsx_runtime.jsxs)(Box.Z,{component:"li",sx:[classes.instanceItem,"pending"===instance.status&&classes.pendingInstance],children:[instance.name,"pending"===instance.status&&" (pending)"]},instance.id)}))})]}),(0,jsx_runtime.jsxs)(Box.Z,{component:"li",sx:classes.instanceInfoItem,children:[(0,jsx_runtime.jsx)("span",{children:"Control:"}),(0,jsx_runtime.jsxs)(Box.Z,{component:"span",sx:classes.control,children:[detailData.control.name,(0,jsx_runtime.jsx)(Button.Z,{size:"small",variant:"outlined",href:detailData.control.url,color:"primary",endIcon:(0,jsx_runtime.jsx)(OpenInNew.Z,{}),children:"View"})]})]}),(0,jsx_runtime.jsxs)(Box.Z,{component:"li",sx:classes.instanceInfoItem,children:[(0,jsx_runtime.jsx)("span",{children:"Frameworks:"}),(0,jsx_runtime.jsx)("span",{children:null===(_detailData$framework=detailData.frameworks)||void 0===_detailData$framework?void 0:_detailData$framework.map((function(framework,index){return(0,jsx_runtime.jsx)(Button.Z,{size:"small",variant:"outlined",href:framework.url,color:"primary",endIcon:(0,jsx_runtime.jsx)(OpenInNew.Z,{}),children:framework.name},index)}))})]}),(0,jsx_runtime.jsxs)(Box.Z,{component:"li",sx:classes.instanceInfoItem,children:[(0,jsx_runtime.jsx)("span",{children:"Assignment Group:"}),(0,jsx_runtime.jsx)("span",{children:detailData.assignmentGroup})]}),(0,jsx_runtime.jsxs)(Box.Z,{component:"li",sx:classes.instanceInfoItem,children:[(0,jsx_runtime.jsx)("span",{children:"Assignee:"}),(0,jsx_runtime.jsx)("span",{children:detailData.assignee})]}),(0,jsx_runtime.jsxs)(Box.Z,{component:"li",sx:classes.instanceInfoItem,children:[(0,jsx_runtime.jsx)("span",{children:"System Source:"}),(0,jsx_runtime.jsx)("span",{children:detailData.systemSource})]}),(0,jsx_runtime.jsxs)(Box.Z,{component:"li",sx:classes.instanceInfoItem,children:[(0,jsx_runtime.jsx)("span",{children:"System Stage:"}),(0,jsx_runtime.jsx)("span",{children:detailData.systemStage})]})]}),(0,jsx_runtime.jsxs)(Box.Z,{component:"div",sx:classes.instanceActions,children:[(0,jsx_runtime.jsx)(Button.Z,{variant:"contained",disableElevation:!0,fullWidth:!0,color:"primary",size:"small",onClick:function onClick(){return setDialogOpen(!0)},disabled:!actionableRisks,children:"Accept Risk"}),(0,jsx_runtime.jsx)(Button.Z,{variant:"contained",disableElevation:!0,fullWidth:!0,color:"primary",size:"small",children:"Create Problem"})]})]}),(0,jsx_runtime.jsx)(ComplianceTableAcceptRiskDialog,{open:dialogOpen,onClose:function handleOnClose(){return setDialogOpen(!1)},onAccept:onAcceptOfRisk,exemptions:detailData.instances,applicationId,impactLevel:getRisk})]})}ComplianceTableAcceptRiskDialog.displayName="ComplianceTableAcceptRiskDialog",ComplianceTableAcceptRiskDialog.propTypes={open:prop_types_default().bool.isRequired,onClose:prop_types_default().func.isRequired,onAccept:prop_types_default().func.isRequired,exemptions:prop_types_default().arrayOf(prop_types_default().shape({id:prop_types_default().number.isRequired,name:prop_types_default().string.isRequired,status:prop_types_default().oneOf(["none","pending","active"])})).isRequired,applicationId:prop_types_default().number.isRequired,impactLevel:prop_types_default().func.isRequired},ComplianceTableAcceptRiskDialog.__docgenInfo={description:"",methods:[],displayName:"ComplianceTableAcceptRiskDialog",props:{open:{description:"If `true` reveals the dialog, if `false` hides the dialog",type:{name:"bool"},required:!0},onClose:{description:"Callback for when the dialog is requesting to close",type:{name:"func"},required:!0},onAccept:{description:"Callback for when a user accepts the dialog, excepts a promise resolution as a result of the callback. **Signature:** `function(formData: object) => Promise`",type:{name:"func"},required:!0},exemptions:{description:"Array of application exemptions to process",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"number",required:!0},name:{name:"string",required:!0},status:{name:"enum",value:[{value:'"none"',computed:!1},{value:'"pending"',computed:!1},{value:'"active"',computed:!1}],required:!1}}}},required:!0},applicationId:{description:"Unique application ID",type:{name:"number"},required:!0},impactLevel:{description:"Callback to calculate the impact level, should return a value from a given impact and probability. **Signature:** `function(impact: int, probability: int) => enum[1, 2, 3] : int`",type:{name:"func"},required:!0}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/compliance-table/compliance-table-accept-risk-dialog.js"]={name:"ComplianceTableAcceptRiskDialog",docgenInfo:ComplianceTableAcceptRiskDialog.__docgenInfo,path:"src/features/compliance-table/compliance-table-accept-risk-dialog.js"}),ComplianceTableRowDetail.displayName="ComplianceTableRowDetail",ComplianceTableRowDetail.propTypes={detailData:prop_types_default().object.isRequired,onAcceptOfRisk:prop_types_default().func.isRequired,applicationId:prop_types_default().number.isRequired},ComplianceTableRowDetail.__docgenInfo={description:"",methods:[],displayName:"ComplianceTableRowDetail",props:{detailData:{description:"",type:{name:"object"},required:!0},onAcceptOfRisk:{description:"",type:{name:"func"},required:!0},applicationId:{description:"",type:{name:"number"},required:!0}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/compliance-table/compliance-table-row-detail.js"]={name:"ComplianceTableRowDetail",docgenInfo:ComplianceTableRowDetail.__docgenInfo,path:"src/features/compliance-table/compliance-table-row-detail.js"});var components=__webpack_require__("./src/components/index.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return compliance_table_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||compliance_table_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function compliance_table_slicedToArray(arr,i){return function compliance_table_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function compliance_table_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||compliance_table_unsupportedIterableToArray(arr,i)||function compliance_table_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function compliance_table_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return compliance_table_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?compliance_table_arrayLikeToArray(o,minLen):void 0}}function compliance_table_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ComplianceTable(_ref){var title=_ref.title,applications=_ref.applications,onAcceptOfRisk=_ref.onAcceptOfRisk,loading=_ref.loading,noDataMessage=_ref.noDataMessage,invalidPermissionsMessage=_ref.invalidPermissionsMessage,theme=(0,useTheme.Z)(),_useState2=compliance_table_slicedToArray((0,react.useState)("desc"),2),ageOrder=_useState2[0],setAgeOrder=_useState2[1],_useState4=compliance_table_slicedToArray((0,react.useState)([]),2),activeFilters=_useState4[0],setActiveFilters=_useState4[1],getProcessedApplicationData=(0,react.useMemo)((function(){if(!loading&&applications)return function getApplicationsByFilterValues(applications,filterValues){return filterValues.length<1?applications:applications.filter((function(application){return filterValues.includes(application.environment)}))}(function getApplicationsSortedByAge(applications,sortBy){return _toConsumableArray(applications.sort((function(a,b){return"asc"===sortBy?Date.parse(b.raisedDateTime)-Date.parse(a.raisedDateTime):"desc"===sortBy?Date.parse(a.raisedDateTime)-Date.parse(b.raisedDateTime):0})))}(applications,ageOrder),activeFilters)}),[applications,activeFilters,ageOrder,loading]);if(loading)return(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"rect",width:"100%",height:200});if(!applications)return(0,jsx_runtime.jsx)(components.v,{borderColor:theme.palette.primary.main,title:invalidPermissionsMessage.title,message:invalidPermissionsMessage.message});if(applications.length<1)return(0,jsx_runtime.jsx)(components.v,{borderColor:theme.palette.primary.main,title:noDataMessage.title,message:noDataMessage.message});var filters=function getFiltersDerrivedFromApplicationData(applications){if(applications)return applications.map((function(application){return application.environment})).reduce((function(uniqueFilters,filter){return uniqueFilters.includes(filter)?uniqueFilters:[].concat(_toConsumableArray(uniqueFilters),[filter])}),[]).sort()}(applications);return(0,jsx_runtime.jsxs)(TableContainer.Z,{component:Paper.Z,children:[(0,jsx_runtime.jsx)(ComplianceTableToolbar,{activeFilters,onFilterChange:function handleOnFilterChange(filterId){activeFilters.includes(filterId)?setActiveFilters(activeFilters.filter((function(id){return id!==filterId}))):setActiveFilters([].concat(_toConsumableArray(activeFilters),[filterId]))},title,filters}),(0,jsx_runtime.jsxs)(Table.Z,{"arial-label":"Compliance table",children:[(0,jsx_runtime.jsx)(ComplianceTableHead,{onSortClick:function handleOnSortByAgeClick(){setAgeOrder("asc"===ageOrder?"desc":"asc")},sortable:getProcessedApplicationData.length>1,ageOrder}),(0,jsx_runtime.jsx)(TableBody.Z,{children:getProcessedApplicationData.map((function(application){return(0,jsx_runtime.jsx)(ComplianceTableRow,Object.assign({},application,function getTicketTimeData(raisedDateTime){dayjs_min_default().extend(relativeTime_default()),dayjs_min_default().extend(updateLocale_default()),dayjs_min_default().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"1 minute",mm:"%d minutes",h:"1 hour",hh:"%d hours",d:"1 day",dd:"%d days",M:"1 month",MM:"%d months",y:"1 year",yy:"%d years"}});var raisedDate=dayjs_min_default()(raisedDateTime),timeSinceRaised=raisedDate.from(dayjs_min_default()(),!0);return{raisedDate:raisedDate.format("MMM D YYYY - HH:mm"),timeSinceRaised}}(application.raisedDateTime),{children:(0,jsx_runtime.jsx)(ComplianceTableRowDetail,{detailData:application.applicationDetailData,applicationId:application.id,onAcceptOfRisk})}),application.id)}))})]})]})}ComplianceTable.displayName="ComplianceTable",ComplianceTable.propTypes={loading:prop_types_default().bool,title:prop_types_default().string,applications:prop_types_default().arrayOf(prop_types_default().shape({id:prop_types_default().number.isRequired,qualityModel:prop_types_default().oneOf(["security","operational","task"]).isRequired,severity:prop_types_default().oneOf(["high","medium","low"]).isRequired,name:prop_types_default().string.isRequired,tickets:prop_types_default().arrayOf(prop_types_default().shape({reference:prop_types_default().string.isRequired,type:prop_types_default().oneOf(["incident","problem","risk"])})).isRequired,raisedDateTime:function raisedDateTime(props,propName,componentName){if(isNaN(Date.parse(props[propName])))return new Error("Invalid prop `"+propName+"` supplied to `"+componentName+"`. Should be valid Date Time string.")},environment:prop_types_default().string.isRequired,applicationDetailData:prop_types_default().shape({instances:prop_types_default().arrayOf(prop_types_default().shape({id:prop_types_default().number.isRequired,name:prop_types_default().string.isRequired,status:prop_types_default().oneOf(["none","pending"]).isRequired})),control:prop_types_default().shape({name:prop_types_default().string.isRequired,url:prop_types_default().string.isRequired}),frameworks:prop_types_default().arrayOf(prop_types_default().shape({name:prop_types_default().string.isRequired,url:prop_types_default().string.isRequired})),environment:prop_types_default().string,assignmentGroup:prop_types_default().string,assignee:prop_types_default().string,systemSource:prop_types_default().string,systemStage:prop_types_default().string})})),onAcceptOfRisk:prop_types_default().func,invalidPermissionsMessage:prop_types_default().shape({title:prop_types_default().string.isRequired,message:prop_types_default().string.isRequired}).isRequired,noDataMessage:prop_types_default().shape({title:prop_types_default().string.isRequired,message:prop_types_default().string.isRequired}).isRequired},ComplianceTable.__docgenInfo={description:"",methods:[],displayName:"ComplianceTable",props:{loading:{description:"Presents the component in a lodaing state (for when fetching data async)",type:{name:"bool"},required:!1},title:{description:"An optional title for the table",type:{name:"string"},required:!1},applications:{description:"The collection of applications to render to the complianceTable, should be an array of applications, an empty array (for no issues) of null (for invalid permissions)",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"number",required:!0},qualityModel:{name:"enum",value:[{value:'"security"',computed:!1},{value:'"operational"',computed:!1},{value:'"task"',computed:!1}],required:!0},severity:{name:"enum",value:[{value:'"high"',computed:!1},{value:'"medium"',computed:!1},{value:'"low"',computed:!1}],required:!0},name:{name:"string",required:!0},tickets:{name:"arrayOf",value:{name:"shape",value:{reference:{name:"string",required:!0},type:{name:"enum",value:[{value:'"incident"',computed:!1},{value:'"problem"',computed:!1},{value:'"risk"',computed:!1}],required:!1}}},required:!0},raisedDateTime:{name:"custom",raw:'(props, propName, componentName) => {\n  if (isNaN(Date.parse(props[propName]))) {\n    return new Error(\n      "Invalid prop `" +\n        propName +\n        "` supplied to" +\n        " `" +\n        componentName +\n        "`. Should be valid Date Time string."\n    );\n  }\n}',required:!1},environment:{name:"string",required:!0},applicationDetailData:{name:"shape",value:{instances:{name:"arrayOf",value:{name:"shape",value:{id:{name:"number",required:!0},name:{name:"string",required:!0},status:{name:"enum",value:[{value:'"none"',computed:!1},{value:'"pending"',computed:!1}],required:!0}}},required:!1},control:{name:"shape",value:{name:{name:"string",required:!0},url:{name:"string",required:!0}},required:!1},frameworks:{name:"arrayOf",value:{name:"shape",value:{name:{name:"string",required:!0},url:{name:"string",required:!0}}},required:!1},environment:{name:"string",required:!1},assignmentGroup:{name:"string",required:!1},assignee:{name:"string",required:!1},systemSource:{name:"string",required:!1},systemStage:{name:"string",required:!1}},required:!1}}}},required:!1},onAcceptOfRisk:{description:"Callback for when a user accepts the risk dialog, excepts a promise resolution as a result of the callback. **Signature:** `function(formData: object) => Promise`",type:{name:"func"},required:!1},invalidPermissionsMessage:{description:"Used to display a message to the user when they do not have required permissions to view the application data",type:{name:"shape",value:{title:{name:"string",required:!0},message:{name:"string",required:!0}}},required:!0},noDataMessage:{description:"Used to display a message to the user when there is no data to display for the application",type:{name:"shape",value:{title:{name:"string",required:!0},message:{name:"string",required:!0}}},required:!0}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/compliance-table/compliance-table.js"]={name:"ComplianceTable",docgenInfo:ComplianceTable.__docgenInfo,path:"src/features/compliance-table/compliance-table.js"});__webpack_require__("../../node_modules/core-js/modules/es.date.to-iso-string.js");var now,applicationsData=[{id:1,qualityModel:"operational",severity:"medium",name:"Vivamus vestibulum ntulla nec ante",tickets:[{reference:"PRB12345678",type:"problem"}],raisedDateTime:(now=new Date,now.setHours(now.getHours()-1),now.toISOString()),environment:"Production",applicationDetailData:{instances:[{id:1,name:"Server Instance 1",status:"none"},{id:2,name:"Server Instance 2",status:"none"},{id:3,name:"Server Instance 3",status:"none"},{id:4,name:"Server Instance 4",status:"none"},{id:5,name:"Server Instance 5",status:"none"},{id:6,name:"Server Instance 6",status:"none"},{id:7,name:"Server Instance 7",status:"none"},{id:8,name:"Server Instance 8",status:"none"},{id:9,name:"Server Instance 9",status:"none"},{id:10,name:"Server Instance 10",status:"none"},{id:11,name:"Server Instance 11",status:"none"},{id:12,name:"Server Instance 12",status:"none"},{id:13,name:"Server Instance 13",status:"none"},{id:14,name:"Server Instance 14",status:"none"},{id:15,name:"Server Instance 15",status:"none"},{id:16,name:"Server Instance 16",status:"none"}],control:{name:"AWS ECS Pattern  CPU Monitoring",url:"/"},frameworks:[{name:"PCI-DSS",url:"/"},{name:"ISO27K",url:"/"},{name:"GPK",url:"/"}],environment:"production",assignmentGroup:"Server Team",assignee:"James Brown",systemSource:"AWS/CCF",systemStage:"Monitor"}},{id:2,qualityModel:"security",severity:"high",name:"Donec consectetuer ligula vulputate sem tristique cursus",tickets:[{reference:"INC12345678",type:"incident"}],raisedDateTime:function(){var now=new Date;return now.setMinutes(now.getMinutes()-10),now.toISOString()}(),environment:"Production",applicationDetailData:{instances:[{id:1,name:"Server Instance 1",status:"pending"}],control:{name:"AWS ECS Pattern  CPU Monitoring",url:"/"},frameworks:[{name:"PCI-DSS",url:"/"},{name:"ISO27K",url:"/"},{name:"GPK",url:"/"}],environment:"production",assignmentGroup:"Server Team",assignee:"James Brown",systemSource:"AWS/CCF",systemStage:"Monitor"}},{id:3,qualityModel:"task",severity:"low",name:"Integer vitae libero ac risus egestas placerat",tickets:[{reference:"INC12345678-ABT",type:"incident"},{reference:"PRB12345678",type:"problem"},{reference:"RSK12345678QJDTANDKRSK12345678QJDTANDKRSK12345678QJDTANDKRS",type:"risk"}],raisedDateTime:function(){var now=new Date;return now.setDate(now.getDate()-1),now.toISOString()}(),environment:"UAT",applicationDetailData:{instances:[{id:1,name:"Server Instance 1",status:"pending"}],control:{name:"AWS ECS Pattern  CPU Monitoring",url:"/"},frameworks:[{name:"PCI-DSS",url:"/"},{name:"ISO27K",url:"/"},{name:"GPK",url:"/"}],environment:"production",assignmentGroup:"Server Team",assignee:"James Brown",systemSource:"AWS/CCF",systemStage:"Monitor"}},{id:4,qualityModel:"task",severity:"low",name:"Vivamus id diam bibendum, rhoncus leo quis, consequat",tickets:[{reference:"INC12345678-ABT",type:"incident"}],raisedDateTime:function(){var now=new Date;return now.setMonth(now.getMonth()-1),now.toISOString()}(),environment:"UAT",applicationDetailData:{instances:[{id:1,name:"Server Instance 1",status:"pending"}],control:{name:"AWS ECS Pattern CPU Monitoring",url:"/"},frameworks:[{name:"PCI-DSS",url:"/"},{name:"ISO27K",url:"/"},{name:"GPK",url:"/"}],environment:"production",assignmentGroup:"Server Team",assignee:"James Brown",systemSource:"AWS/CCF",systemStage:"Monitor"}},{id:5,qualityModel:"security",severity:"medium",name:"Phasellus fermentum tincidunt nisl",tickets:[{reference:"PRB12345678",type:"problem"}],raisedDateTime:function(){var now=new Date;return now.setFullYear(now.getFullYear()-1),now.toISOString()}(),environment:"UAT",applicationDetailData:{instances:[{id:1,name:"Server Instance 1",status:"pending"}],control:{name:"AWS ECS Pattern  CPU Monitoring",url:"/"},frameworks:[{name:"PCI-DSS",url:"/"},{name:"ISO27K",url:"/"},{name:"GPK",url:"/"}],environment:"production",assignmentGroup:"Server Team",assignee:"James Brown",systemSource:"AWS/CCF",systemStage:"Monitor"}}];const compliance_table_stories={title:"Features/Compliance Table",component:ComplianceTable,parameters:{layout:"padded"},decorators:[function(story){return(0,jsx_runtime.jsx)(Box.Z,{sx:{width:"100%",maxWidth:1024,margin:"0 auto"},children:story()})}]};function Template(args){return(0,jsx_runtime.jsx)(ComplianceTable,Object.assign({},args))}Template.displayName="Template",Template.args={title:"Compliance Table",noDataMessage:{title:"No issues",message:"There are no issues to display for this application"},invalidPermissionsMessage:{title:"Notice",message:"You do not have the required permissions to view the data for this application"}};var Loading=Object.assign({},Template,{args:Object.assign({},Template.args,{loading:!0,applications:[]})}),LoadedWithSingleIssue=Object.assign({},Template,{args:Object.assign({},Template.args,{loading:!1,applications:[applicationsData[0]]})}),LoadedWithMultipleIssues=Object.assign({},Template,{args:Object.assign({},Template.args,{loading:!1,applications:applicationsData})}),LoadedWithNoIssues=Object.assign({},Template,{args:Object.assign({},Template.args,{loading:!1,applications:[]})}),WithoutRequiredPermissions=Object.assign({},Template,{args:Object.assign({},Template.args,{loading:!1,applications:null})}),__namedExportsOrder=["Loading","LoadedWithSingleIssue","LoadedWithMultipleIssues","LoadedWithNoIssues","WithoutRequiredPermissions"]},"./src/components/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>Message});__webpack_require__("../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/react/index.js");var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),Paper=__webpack_require__("../../node_modules/@mui/material/Paper/Paper.js"),Typography=__webpack_require__("../../node_modules/@mui/material/Typography/Typography.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["borderColor","title","message","sx"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Message(_ref){var _ref$borderColor=_ref.borderColor,borderColor=void 0===_ref$borderColor?"#000":_ref$borderColor,title=_ref.title,message=_ref.message,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded);return(0,jsx_runtime.jsxs)(Paper.Z,Object.assign({variant:"outlined",sx:Object.assign({padding:2,borderTop:4,borderTopColor:borderColor},sx)},rest,{children:[title&&(0,jsx_runtime.jsx)(Typography.Z,{align:"center",variant:"subtitle1",children:title}),message&&(0,jsx_runtime.jsx)(Typography.Z,{align:"center",variant:"body2",children:message})]}))}Message.displayName="Message",Message.propTypes={borderColor:prop_types_default().string,title:prop_types_default().string,message:prop_types_default().string,sx:prop_types_default().object},Message.__docgenInfo={description:"",methods:[],displayName:"Message",props:{borderColor:{defaultValue:{value:'"#000"',computed:!1},description:"",type:{name:"string"},required:!1},title:{description:"",type:{name:"string"},required:!1},message:{description:"",type:{name:"string"},required:!1},sx:{description:"",type:{name:"object"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/message/message.js"]={name:"Message",docgenInfo:Message.__docgenInfo,path:"src/components/message/message.js"})},"./src/features/icon-chip/icon-chip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>IconChip});__webpack_require__("../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_mui_material__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@mui/material/Box/Box.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["icon","label","color","labelColor","dense"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var IconChip=react__WEBPACK_IMPORTED_MODULE_5__.forwardRef((function(_ref,ref){var icon=_ref.icon,label=_ref.label,_ref$color=_ref.color,color=void 0===_ref$color?"#000":_ref$color,_ref$labelColor=_ref.labelColor,labelColor=void 0===_ref$labelColor?"#fff":_ref$labelColor,_ref$dense=_ref.dense,dense=void 0!==_ref$dense&&_ref$dense,rest=_objectWithoutProperties(_ref,_excluded),classes=function useIconChipStyles(color,labelColor,dense){return{root:{display:"inline-flex",justifyContent:"space-between",border:"1px solid",borderColor:color,borderRadius:1,backgroundColor:"#fff"},iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",py:dense?.25:.5,px:dense?.5:.75,color,"& > .MuiSvgIcon-root":{fontSize:16}},labelContainer:{display:"flex",justifyContent:"center",alignItems:"center",py:dense?.25:.5,px:dense?.5:.75,backgroundColor:color,color:labelColor,typography:"body1",fontWeight:"bold",textAlign:"left",minWidth:dense?24:30,minHeight:24,fontSize:14,lineHeight:1.43}}}(color,labelColor,dense),otherProps=_extends({},rest);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,Object.assign({component:"div",sx:classes.root},otherProps,{ref,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,{component:"div",sx:classes.iconContainer,children:icon}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,{component:"div",sx:classes.labelContainer,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{children:label})})]}))}));IconChip.displayName="IconChip",IconChip.propTypes={icon:prop_types__WEBPACK_IMPORTED_MODULE_8___default().node.isRequired,label:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string.isRequired,color:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,labelColor:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,dense:prop_types__WEBPACK_IMPORTED_MODULE_8___default().bool},IconChip.__docgenInfo={description:"",methods:[],displayName:"IconChip",props:{color:{defaultValue:{value:'"#000"',computed:!1},description:"The color of the chip, should be a valid [CSS color value](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value)",type:{name:"string"},required:!1},labelColor:{defaultValue:{value:'"#fff"',computed:!1},description:"The color of the chip label, should be a valid [CSS color value](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value)",type:{name:"string"},required:!1},dense:{defaultValue:{value:"false",computed:!1},description:"Reduces the padding of around the chip icon and label for a smaller appearance",type:{name:"bool"},required:!1},icon:{description:"The icon to display in the chip, accepts one [Material-UI SVG Icon](https://material-ui.com/components/material-icons/)",type:{name:"node"},required:!0},label:{description:"The content of the chip label text",type:{name:"string"},required:!0}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/icon-chip/icon-chip.js"]={name:"IconChip",docgenInfo:IconChip.__docgenInfo,path:"src/features/icon-chip/icon-chip.js"})}}]);