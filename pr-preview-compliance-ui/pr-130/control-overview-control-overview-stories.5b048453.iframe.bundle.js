/*! For license information please see control-overview-control-overview-stories.5b048453.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkairview_compliance_ui=self.webpackChunkairview_compliance_ui||[]).push([[846],{"./src/stories/control-overview/control-overview.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Loading:()=>Loading,WithControls:()=>WithControls,WithError:()=>WithError,WithNoControls:()=>WithNoControls,WithoutRequiredPermissions:()=>WithoutRequiredPermissions,__namedExportsOrder:()=>__namedExportsOrder,default:()=>control_overview_stories});__webpack_require__("../../node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/core-js/modules/web.timers.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("../../node_modules/react/index.js"),prop_types=(__webpack_require__("../../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/prop-types/index.js")),prop_types_default=__webpack_require__.n(prop_types),useTheme=__webpack_require__("../../node_modules/@mui/material/styles/useTheme.js"),Skeleton=__webpack_require__("../../node_modules/@mui/material/Skeleton/Skeleton.js"),Paper=__webpack_require__("../../node_modules/@mui/material/Paper/Paper.js"),Box=__webpack_require__("../../node_modules/@mui/material/Box/Box.js"),Toolbar=__webpack_require__("../../node_modules/@mui/material/Toolbar/Toolbar.js"),Typography=__webpack_require__("../../node_modules/@mui/material/Typography/Typography.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function ControlOverviewHeader(_ref){var title=_ref.title,classes={header:{paddingTop:1,paddingBottom:1,paddingRight:2,paddingLeft:2}};return(0,jsx_runtime.jsx)(Toolbar.Z,{sx:classes.header,disableGutters:!0,children:(0,jsx_runtime.jsx)(Typography.Z,{sx:{fontWeight:600,fontSize:"18px"},variant:"h6",component:"p",children:title})})}ControlOverviewHeader.displayName="ControlOverviewHeader",ControlOverviewHeader.propTypes={title:prop_types_default().string},ControlOverviewHeader.__docgenInfo={description:"",methods:[],displayName:"ControlOverviewHeader",props:{title:{description:"",type:{name:"string"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/control-overview/control-overview-header.js"]={name:"ControlOverviewHeader",docgenInfo:ControlOverviewHeader.__docgenInfo,path:"src/features/control-overview/control-overview-header.js"});var Accordion=__webpack_require__("../../node_modules/@mui/material/Accordion/Accordion.js"),AccordionSummary=__webpack_require__("../../node_modules/@mui/material/AccordionSummary/AccordionSummary.js"),AccordionDetails=__webpack_require__("../../node_modules/@mui/material/AccordionDetails/AccordionDetails.js"),ExpandMore=__webpack_require__("../../node_modules/@mui/icons-material/ExpandMore.js");function ControlOverviewGroup(_ref){var groupTitle=_ref.groupTitle,id=_ref.id,onChange=_ref.onChange,children=_ref.children,classes={overviewGroup:{boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&.Mui-expanded":{margin:"auto"},"&:not(:first-of-type)":{borderTop:"1px solid rgba(0, 0, 0, .125)"}},overviewGroupExpanded:{},overviewGroupSummary:{},overviewGroupTitle:{fontSize:16,fontWeight:"medium"},overviewGroupChildren:{display:"block",padding:0,borderTop:"1px solid rgba(0, 0, 0, .125)"}};return(0,jsx_runtime.jsxs)(Accordion.Z,{sx:{"&.MuiAccordion-root":classes.overviewGroup},onChange:function handleOnChange(event,expanded){expanded&&onChange(id)},children:[(0,jsx_runtime.jsx)(AccordionSummary.Z,{expandIcon:(0,jsx_runtime.jsx)(ExpandMore.Z,{}),sx:classes.overviewGroupSummary,children:(0,jsx_runtime.jsx)(Typography.Z,{sx:classes.overviewGroupTitle,children:groupTitle})}),(0,jsx_runtime.jsx)(AccordionDetails.Z,{sx:classes.overviewGroupChildren,children})]})}ControlOverviewGroup.displayName="ControlOverviewGroup",ControlOverviewGroup.propTypes={groupTitle:prop_types_default().string,id:prop_types_default().number,onChange:prop_types_default().func,children:prop_types_default().node},ControlOverviewGroup.__docgenInfo={description:"",methods:[],displayName:"ControlOverviewGroup",props:{groupTitle:{description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"number"},required:!1},onChange:{description:"",type:{name:"func"},required:!1},children:{description:"",type:{name:"node"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/control-overview/control-overview-group.js"]={name:"ControlOverviewGroup",docgenInfo:ControlOverviewGroup.__docgenInfo,path:"src/features/control-overview/control-overview-group.js"});var Tooltip=__webpack_require__("../../node_modules/@mui/material/Tooltip/Tooltip.js"),icons_material_Error=__webpack_require__("../../node_modules/@mui/icons-material/Error.js");function ControlOverviewItem(_ref){var id=_ref.id,name=_ref.name,severity=_ref.severity,applied=_ref.applied,exempt=_ref.exempt,children=_ref.children,onChange=_ref.onChange,classes=function controlOverviewItemStyles(severity){return{overviewItem:{width:"100%",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&.Mui-expanded":{margin:"auto"},"&:not(:first-of-type)":{borderTop:"1px solid rgba(0, 0, 0, .125)"}},overviewItemExpanded:{margin:"auto"},overviewItemSummary:{"$overviewItemExpanded &":{borderBottom:"1px solid rgba(0, 0, 0, .125)"}},overviewItemDetail:{display:"block",paddingTop:2},severityStatus:function severityStatus(){var getBackgroundColor=function getBackgroundColor(severity){var backgroundColor;switch(severity){case"low":backgroundColor="success.main";break;case"medium":backgroundColor="warning.main";break;case"high":backgroundColor="error.main";break;default:backgroundColor="grey.500"}return backgroundColor};return{width:26,height:26,padding:"4px",borderRadius:"100%",color:"#fff",display:"inline-block",backgroundColor:getBackgroundColor(severity),fontSize:"16px",marginRight:2}},infoLabel:{display:"inline-block",border:1,borderRadius:1,paddingTop:0,paddingBottom:0,paddingRight:1,paddingLeft:1,color:"text.primary","&:not(:last-of-type)":{marginRight:1}}}}(severity.toLowerCase());return(0,jsx_runtime.jsxs)(Accordion.Z,{sx:{"&.MuiAccordion-root":classes.overviewItem},onChange:function handleOnChange(event,expanded){expanded&&onChange(id)},children:[(0,jsx_runtime.jsx)(AccordionSummary.Z,{sx:{"& .MuiAccordionSummary-expandIconWrapper":{padding:"12px",marginRight:"-12px"},"&.Mui-expanded":{borderBottom:"1px solid rgba(0, 0, 0, .125)"}},expandIcon:(0,jsx_runtime.jsx)(ExpandMore.Z,{}),children:(0,jsx_runtime.jsxs)(Box.Z,{display:"flex",flexGrow:1,justifyContent:"space-between",children:[(0,jsx_runtime.jsxs)(Box.Z,{paddingRight:1,display:"flex",alignItems:"center",children:[(0,jsx_runtime.jsx)(Tooltip.Z,{title:"Severity: "+severity.toLowerCase(),placement:"bottom-start",children:(0,jsx_runtime.jsx)(icons_material_Error.Z,{fontSize:"small",sx:classes.severityStatus})}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:name})]}),(0,jsx_runtime.jsxs)(Box.Z,{paddingLeft:1,display:"flex",alignItems:"center",children:[(0,jsx_runtime.jsx)(Tooltip.Z,{title:"Applied",placement:"bottom-end",children:(0,jsx_runtime.jsx)(Box.Z,{component:"span",sx:classes.infoLabel,children:(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:applied})})}),(0,jsx_runtime.jsx)(Tooltip.Z,{title:"Exempt",placement:"bottom-end",children:(0,jsx_runtime.jsx)(Box.Z,{component:"span",sx:classes.infoLabel,children:(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:exempt})})})]})]})}),(0,jsx_runtime.jsx)(AccordionDetails.Z,{sx:classes.overviewItemDetail,children})]})}ControlOverviewItem.displayName="ControlOverviewItem",ControlOverviewItem.propTypes={id:prop_types_default().number,name:prop_types_default().string,severity:prop_types_default().oneOf(["Low","Medium","High"]),applied:prop_types_default().number,exempt:prop_types_default().number,children:prop_types_default().node,onChange:prop_types_default().func},ControlOverviewItem.__docgenInfo={description:"",methods:[],displayName:"ControlOverviewItem",props:{id:{description:"",type:{name:"number"},required:!1},name:{description:"",type:{name:"string"},required:!1},severity:{description:"",type:{name:"enum",value:[{value:'"Low"',computed:!1},{value:'"Medium"',computed:!1},{value:'"High"',computed:!1}]},required:!1},applied:{description:"",type:{name:"number"},required:!1},exempt:{description:"",type:{name:"number"},required:!1},children:{description:"",type:{name:"node"},required:!1},onChange:{description:"",type:{name:"func"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/control-overview/control-overview-item.js"]={name:"ControlOverviewItem",docgenInfo:ControlOverviewItem.__docgenInfo,path:"src/features/control-overview/control-overview-item.js"});var components=__webpack_require__("./src/components/index.js"),Grid=__webpack_require__("../../node_modules/@mui/material/Grid/Grid.js"),Button=__webpack_require__("../../node_modules/@mui/material/Button/Button.js"),OpenInNew=__webpack_require__("../../node_modules/@mui/icons-material/OpenInNew.js");function ControlOverviewItemDetail(_ref){var control=_ref.control,frameworks=_ref.frameworks,controlAction=_ref.controlAction,lifecycle=_ref.lifecycle,classes={itemDetail:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:1,paddingBottom:1,paddingRight:0,paddingLeft:0,"&:first-of-type":{paddingTop:0},"&:not(:last-of-type)":{borderBottom:1,borderBottomColor:"divider"}},itemDetailLeftContent:{flex:"0 0 auto",paddingRight:1},itemDetailRightContent:{flex:"1 1 auto",display:"flex",alignItems:"center",justifyContent:"flex-end",flexWrap:"wrap",paddingLeft:1,"& > *:not(:last-child)":{marginRight:1}},itemDetailTitle:{fontSize:14,fontWeight:"bold"},itemDetailAction:{fontSize:12,"& .MuiSvgIcon-root":{fontSize:14}}};return(0,jsx_runtime.jsxs)(Grid.ZP,{container:!0,spacing:2,children:[(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:9,children:(0,jsx_runtime.jsxs)(Box.Z,{component:"div",children:[(0,jsx_runtime.jsxs)(Box.Z,{component:"div",sx:classes.itemDetail,children:[(0,jsx_runtime.jsx)(Box.Z,{component:"div",sx:classes.itemDetailLeftContent,children:(0,jsx_runtime.jsx)(Typography.Z,{sx:classes.itemDetailTitle,children:"Control:"})}),(0,jsx_runtime.jsxs)(Box.Z,{component:"div",sx:classes.itemDetailRightContent,children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:control.name}),(0,jsx_runtime.jsx)(Button.Z,{size:"small",variant:"outlined",href:control.url,color:"primary",endIcon:(0,jsx_runtime.jsx)(OpenInNew.Z,{}),sx:classes.itemDetailAction,children:"View"})]})]}),(0,jsx_runtime.jsxs)(Box.Z,{component:"div",sx:classes.itemDetail,children:[(0,jsx_runtime.jsx)(Box.Z,{component:"div",sx:classes.itemDetailLeftContent,children:(0,jsx_runtime.jsx)(Typography.Z,{sx:classes.itemDetailTitle,children:"Frameworks:"})}),(0,jsx_runtime.jsx)(Box.Z,{component:"div",sx:classes.itemDetailRightContent,children:frameworks.map((function(framework){return(0,jsx_runtime.jsx)(Button.Z,{size:"small",variant:"outlined",href:framework.url,color:"primary",endIcon:(0,jsx_runtime.jsx)(OpenInNew.Z,{}),sx:classes.itemDetailAction,children:framework.name},framework.name)}))})]}),(0,jsx_runtime.jsxs)(Box.Z,{component:"div",sx:classes.itemDetail,children:[(0,jsx_runtime.jsx)(Box.Z,{component:"div",sx:classes.itemDetailLeftContent,children:(0,jsx_runtime.jsx)(Typography.Z,{sx:classes.itemDetailTitle,children:"Control Action:"})}),(0,jsx_runtime.jsx)(Box.Z,{component:"div",sx:classes.itemDetailRightContent,children:(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:controlAction})})]}),(0,jsx_runtime.jsxs)(Box.Z,{component:"div",sx:classes.itemDetail,children:[(0,jsx_runtime.jsx)(Box.Z,{component:"div",sx:classes.itemDetailLeftContent,children:(0,jsx_runtime.jsx)(Typography.Z,{sx:classes.itemDetailTitle,children:"Lifecycle:"})}),(0,jsx_runtime.jsx)(Box.Z,{component:"div",sx:classes.itemDetailRightContent,children:(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:lifecycle})})]})]})}),(0,jsx_runtime.jsx)(Grid.ZP,{item:!0,xs:3,sx:classes.actions,children:(0,jsx_runtime.jsx)(Button.Z,{variant:"contained",disableElevation:!0,fullWidth:!0,color:"primary",size:"small",onClick:function onClick(){},disabled:!1,children:"Create Exemption"})})]})}ControlOverviewItemDetail.displayName="ControlOverviewItemDetail",ControlOverviewItemDetail.propTypes={control:prop_types_default().shape({name:prop_types_default().string,url:prop_types_default().string}),frameworks:prop_types_default().arrayOf(prop_types_default().shape({name:prop_types_default().string,url:prop_types_default().string})),controlAction:prop_types_default().string,lifecycle:prop_types_default().string},ControlOverviewItemDetail.__docgenInfo={description:"",methods:[],displayName:"ControlOverviewItemDetail",props:{control:{description:"",type:{name:"shape",value:{name:{name:"string",required:!1},url:{name:"string",required:!1}}},required:!1},frameworks:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{name:{name:"string",required:!1},url:{name:"string",required:!1}}}},required:!1},controlAction:{description:"",type:{name:"string"},required:!1},lifecycle:{description:"",type:{name:"string"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/control-overview/control-overview-item-detail.js"]={name:"ControlOverviewItemDetail",docgenInfo:ControlOverviewItemDetail.__docgenInfo,path:"src/features/control-overview/control-overview-item-detail.js"});__webpack_require__("../../node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../../node_modules/core-js/modules/es.date.to-string.js");var TableContainer=__webpack_require__("../../node_modules/@mui/material/TableContainer/TableContainer.js"),Menu=__webpack_require__("../../node_modules/@mui/material/Menu/Menu.js"),MenuItem=__webpack_require__("../../node_modules/@mui/material/MenuItem/MenuItem.js"),Checkbox=__webpack_require__("../../node_modules/@mui/material/Checkbox/Checkbox.js"),ListItemText=__webpack_require__("../../node_modules/@mui/material/ListItemText/ListItemText.js"),Table=__webpack_require__("../../node_modules/@mui/material/Table/Table.js"),TableHead=__webpack_require__("../../node_modules/@mui/material/TableHead/TableHead.js"),TableRow=__webpack_require__("../../node_modules/@mui/material/TableRow/TableRow.js"),TableCell=__webpack_require__("../../node_modules/@mui/material/TableCell/TableCell.js"),TableSortLabel=__webpack_require__("../../node_modules/@mui/material/TableSortLabel/TableSortLabel.js"),TableBody=__webpack_require__("../../node_modules/@mui/material/TableBody/TableBody.js"),IconButton=__webpack_require__("../../node_modules/@mui/material/IconButton/IconButton.js"),FilterList=__webpack_require__("../../node_modules/@mui/icons-material/FilterList.js"),ListItemIcon=__webpack_require__("../../node_modules/@mui/material/ListItemIcon/ListItemIcon.js"),Settings=__webpack_require__("../../node_modules/@mui/icons-material/Settings.js"),Check=__webpack_require__("../../node_modules/@mui/icons-material/Check.js"),Clear=__webpack_require__("../../node_modules/@mui/icons-material/Clear.js"),Info=__webpack_require__("../../node_modules/@mui/icons-material/Info.js"),dayjs_min=__webpack_require__("../../node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ControlOverviewItemResources(_ref){var resourcesData=_ref.resourcesData,onManageResourceClick=_ref.onManageResourceClick,onViewResourceEvidence=_ref.onViewResourceEvidence,classes=function controlOverviewItemResourcesStyles(){return{container:{marginTop:2},toolbar:{paddingLeft:2,paddingRight:2,backgroundColor:"grey.50"},filterItem:{minWidth:30},filterCheckbox:{padding:0,"$filterCheckboxChecked&:hover, &:hover":{backgroundColor:"transparent"}},filterCheckboxChecked:{},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},tableHead:{backgroundColor:"grey.50"},tableBody:{"& > tr:last-of-type > td":{borderBottom:"none"}},statusLabel:Object.assign({},"typography.body2",{textTransform:"capitalize",fontSize:12,fontWeight:"bolc",border:"1px solid primary.main",borderRadius:1,padding:"2px 8px",whiteSpace:"nowrap"}),statusLabelMonitoring:{backgroundColor:"success.main",borderColor:"success.dark",color:"common.white"},statusLabelNonCompliant:{backgroundColor:"error.main",borderColor:"error.dark",color:"common.white"},statusLabelExempt:{backgroundColor:"grey.300",borderColor:"grey.400",color:"grey.800"}}}(),_useState2=_slicedToArray((0,react.useState)(null),2),anchorEl=_useState2[0],setAnchorEl=_useState2[1],_useState4=_slicedToArray((0,react.useState)([]),2),activeFilters=_useState4[0],setActiveFilters=_useState4[1],_useState6=_slicedToArray((0,react.useState)("desc"),2),lastSeenOrder=_useState6[0],setLastSeenOrder=_useState6[1],filters=(0,react.useMemo)((function(){return resourcesData.map((function(instance){return instance.environment})).reduce((function(uniqueFilters,filter){return uniqueFilters.includes(filter)?uniqueFilters:[].concat(_toConsumableArray(uniqueFilters),[filter])}),[]).sort()}),[resourcesData]),processedResourcesData=(0,react.useMemo)((function(){return function getResourcesByFilterValues(resources,filterValues){return filterValues.length<1?resources:resources.filter((function(instance){return filterValues.includes(instance.environment)}))}(function getResourcesSortedByLastSeenDate(resources,sortBy){return _toConsumableArray(resources.sort((function(a,b){return"asc"===sortBy?Date.parse(a.lastSeen)-Date.parse(b.lastSeen):"desc"===sortBy?Date.parse(b.lastSeen)-Date.parse(a.lastSeen):0})))}(resourcesData,lastSeenOrder),activeFilters)}),[resourcesData,lastSeenOrder,activeFilters]),getStatusLabelClassName=function getStatusLabelClassName(status){var className;switch(status){case"Monitoring":className="statusLabelMonitoring";break;case"Non-Compliant":className="statusLabelNonCompliant";break;case"Exempt":className="statusLabelExempt";break;default:className=""}return className};return(0,jsx_runtime.jsx)(Paper.Z,{variant:"outlined",sx:classes.container,children:(0,jsx_runtime.jsxs)(TableContainer.Z,{children:[(0,jsx_runtime.jsxs)(Toolbar.Z,{variant:"dense",sx:{"&.MuiToolbar-root":classes.toolbar},children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"subtitle2",component:"p",children:"Resources"}),filters&&filters.length>1&&(0,jsx_runtime.jsxs)(Box.Z,{marginLeft:"auto",children:[(0,jsx_runtime.jsx)(Tooltip.Z,{title:"Filter",placement:"bottom-end",children:(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(IconButton.Z,{"aria-controls":"filter-menu","aria-haspopup":"true",onClick:function handleOnFilterClick(event){setAnchorEl(event.currentTarget)},"aria-label":"Show filters",size:"small",children:(0,jsx_runtime.jsx)(FilterList.Z,{})})})}),(0,jsx_runtime.jsx)(Menu.Z,{id:"filter-menu",anchorEl,keepMounted:!0,open:Boolean(anchorEl),onClose:function handleOnFilterClose(){setAnchorEl(null)},anchorOrigin:{vertical:8,horizontal:28},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{"aria-hidden":Boolean(!anchorEl),"aria-label":"Filters"},children:filters.map((function(filter){return(0,jsx_runtime.jsxs)(MenuItem.Z,{onClick:function onClick(){return function handleOnFilterChange(selectedFilter){activeFilters.includes(selectedFilter)?setActiveFilters(activeFilters.filter((function(filter){return filter!==selectedFilter}))):setActiveFilters([].concat(_toConsumableArray(activeFilters),[selectedFilter]))}(filter)},dense:!0,children:[(0,jsx_runtime.jsx)(ListItemIcon.Z,{sx:{"&.MuiListItemIcon-root":classes.filterItem},children:(0,jsx_runtime.jsx)(Checkbox.Z,{checked:activeFilters.includes(filter),color:"default",disableRipple:!0,tabIndex:-1,size:"small",sx:{"&.MuiCheckbox-root":classes.filterCheckbox},inputProps:{"aria-labelledby":filter,"aria-checked":activeFilters.includes(filter)}})}),(0,jsx_runtime.jsx)(ListItemText.Z,{id:filter,primary:filter,primaryTypographyProps:{"aria-label":"Filter by "+filter}})]},filter)}))})]})]}),(0,jsx_runtime.jsxs)(Table.Z,{size:"small",children:[(0,jsx_runtime.jsx)(TableHead.Z,{sx:classes.tableHead,children:(0,jsx_runtime.jsxs)(TableRow.Z,{children:[(0,jsx_runtime.jsx)(TableCell.Z,{children:"Type"}),(0,jsx_runtime.jsx)(TableCell.Z,{children:"Resource"}),(0,jsx_runtime.jsx)(TableCell.Z,{children:"Environment"}),(0,jsx_runtime.jsx)(TableCell.Z,{sortDirection:lastSeenOrder,children:processedResourcesData.length>1?(0,jsx_runtime.jsxs)(TableSortLabel.Z,{active:!0,direction:lastSeenOrder,onClick:function handleOnSortByLastSeenClick(){setLastSeenOrder("asc"===lastSeenOrder?"desc":"asc")},"aria-label":"Sort by last seen",children:["Last seen",(0,jsx_runtime.jsx)(Box.Z,{component:"span",sx:classes.visuallyHidden,"aria-label":"Sorting order",children:"desc"===lastSeenOrder?"Last seen sorted descending":"Last seen sorted ascending"})]}):"Last seen"}),(0,jsx_runtime.jsx)(TableCell.Z,{children:"Status"}),(0,jsx_runtime.jsx)(TableCell.Z,{children:"Pending"}),(0,jsx_runtime.jsx)(TableCell.Z,{}),(0,jsx_runtime.jsx)(TableCell.Z,{})]})}),(0,jsx_runtime.jsx)(TableBody.Z,{sx:classes.tableBody,children:processedResourcesData.map((function(resource){return(0,jsx_runtime.jsxs)(TableRow.Z,{children:[(0,jsx_runtime.jsx)(TableCell.Z,{children:resource.type}),(0,jsx_runtime.jsx)(TableCell.Z,{children:resource.reference}),(0,jsx_runtime.jsx)(TableCell.Z,{children:resource.environment}),(0,jsx_runtime.jsx)(TableCell.Z,{children:dayjs_min_default()(resource.lastSeen).format("MMM D YYYY h:mm A")}),(0,jsx_runtime.jsx)(TableCell.Z,{children:(0,jsx_runtime.jsx)(Box.Z,{component:"span",sx:Object.assign({},classes.statusLabel,classes[getStatusLabelClassName(resource.status)]),children:resource.status})}),(0,jsx_runtime.jsx)(TableCell.Z,{children:resource.pending?(0,jsx_runtime.jsx)(Check.Z,{color:"primary",fontSize:"small"}):(0,jsx_runtime.jsx)(Clear.Z,{color:"primary",fontSize:"small"})}),(0,jsx_runtime.jsx)(TableCell.Z,{align:"center",children:"Exempt"!==resource.status||resource.pending?"-":(0,jsx_runtime.jsx)(Tooltip.Z,{title:"Manage Exemption",children:(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(IconButton.Z,{"aria-label":"Manage Exemption",color:"primary",size:"small",onClick:function onClick(){return onManageResourceClick(resource.id)},children:(0,jsx_runtime.jsx)(Settings.Z,{fontSize:"small"})})})})}),(0,jsx_runtime.jsx)(TableCell.Z,{align:"center",children:null!=resource&&resource.evidence?(0,jsx_runtime.jsx)(Tooltip.Z,{title:"View Evidence",children:(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(IconButton.Z,{"aria-label":"View Evidence",color:"primary",size:"small",onClick:function onClick(){return onViewResourceEvidence(resource.id)},children:(0,jsx_runtime.jsx)(Info.Z,{fontSize:"small"})})})}):"-"})]},resource.id)}))})]})]})})}ControlOverviewItemResources.displayName="ControlOverviewItemResources",ControlOverviewItemResources.propTypes={resourcesData:prop_types_default().arrayOf(prop_types_default().shape({type:prop_types_default().string,reference:prop_types_default().string,environment:prop_types_default().string,lastSeen:prop_types_default().string,status:prop_types_default().oneOf(["Monitoring","Non-Compliant","Exempt"]),pending:prop_types_default().bool})),onManageResourceClick:prop_types_default().func.isRequired,onViewResourceEvidence:prop_types_default().func.isRequired},ControlOverviewItemResources.__docgenInfo={description:"",methods:[],displayName:"ControlOverviewItemResources",props:{resourcesData:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{type:{name:"string",required:!1},reference:{name:"string",required:!1},environment:{name:"string",required:!1},lastSeen:{name:"string",required:!1},status:{name:"enum",value:[{value:'"Monitoring"',computed:!1},{value:'"Non-Compliant"',computed:!1},{value:'"Exempt"',computed:!1}],required:!1},pending:{name:"bool",required:!1}}}},required:!1},onManageResourceClick:{description:"",type:{name:"func"},required:!0},onViewResourceEvidence:{description:"",type:{name:"func"},required:!0}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/control-overview/control-overview-item-resources.js"]={name:"ControlOverviewItemResources",docgenInfo:ControlOverviewItemResources.__docgenInfo,path:"src/features/control-overview/control-overview-item-resources.js"});var CircularProgress=__webpack_require__("../../node_modules/@mui/material/CircularProgress/CircularProgress.js");function ControlOverviewLoadingIndicator(_ref){var _ref$padding=_ref.padding,padding=void 0!==_ref$padding&&_ref$padding;return(0,jsx_runtime.jsx)(Box.Z,{padding:padding?2:0,display:"flex",justifyContent:"center",children:(0,jsx_runtime.jsx)(CircularProgress.Z,{size:30})})}ControlOverviewLoadingIndicator.displayName="ControlOverviewLoadingIndicator",ControlOverviewLoadingIndicator.propTypes={padding:prop_types_default().bool},ControlOverviewLoadingIndicator.__docgenInfo={description:"",methods:[],displayName:"ControlOverviewLoadingIndicator",props:{padding:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/control-overview/control-overview-loading-indicator.js"]={name:"ControlOverviewLoadingIndicator",docgenInfo:ControlOverviewLoadingIndicator.__docgenInfo,path:"src/features/control-overview/control-overview-loading-indicator.js"});__webpack_require__("../../node_modules/core-js/modules/es.date.to-iso-string.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("../../node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("../../node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.create.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.reverse.js");var Dialog=__webpack_require__("../../node_modules/@mui/material/Dialog/Dialog.js"),DialogTitle=__webpack_require__("../../node_modules/@mui/material/DialogTitle/DialogTitle.js"),DialogContent=__webpack_require__("../../node_modules/@mui/material/DialogContent/DialogContent.js"),Divider=__webpack_require__("../../node_modules/@mui/material/Divider/Divider.js"),TextField=__webpack_require__("../../node_modules/@mui/material/TextField/TextField.js"),DialogActions=__webpack_require__("../../node_modules/@mui/material/DialogActions/DialogActions.js"),LocalizationProvider=__webpack_require__("../../node_modules/@mui/x-date-pickers/LocalizationProvider/LocalizationProvider.js"),DatePicker=__webpack_require__("../../node_modules/@mui/x-date-pickers/DatePicker/DatePicker.js"),index_esm=__webpack_require__("../../node_modules/@date-io/dayjs/build/index.esm.js"),_excluded=(__webpack_require__("../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.bind.js"),["open","color"]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function WorkingOverlay(_ref){var open=_ref.open,color=_ref.color,rest=_objectWithoutProperties(_ref,_excluded),classes=function workingOverlayStyles(color){return{root:{position:"absolute",backgroundColor:"rgba(0,0,0, 0.1)",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"},circle:{color:null!=color?color:"primary.main"}}}(color),otherProps=_extends({},rest);return open?(0,jsx_runtime.jsx)(Box.Z,Object.assign({component:"div",sx:classes.root},otherProps,{children:(0,jsx_runtime.jsx)(CircularProgress.Z,{sx:classes.circle})})):null}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function control_overview_resource_manager_slicedToArray(arr,i){return function control_overview_resource_manager_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function control_overview_resource_manager_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function control_overview_resource_manager_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return control_overview_resource_manager_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return control_overview_resource_manager_arrayLikeToArray(o,minLen)}(arr,i)||function control_overview_resource_manager_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function control_overview_resource_manager_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ControlOverviewResourceManager(_ref){var open=_ref.open,onClose=_ref.onClose,resourceData=_ref.resourceData,onResourceExemptionDelete=_ref.onResourceExemptionDelete,onResourceExemptionSave=_ref.onResourceExemptionSave,classes={sectionHeader:{fontSize:15,fontWeight:600},sectionDivider:{marginTop:2,marginBottom:2},resourcesList:{margin:0,padding:"0 0 0 18px"}},_useState2=control_overview_resource_manager_slicedToArray((0,react.useState)(null==resourceData?void 0:resourceData.expires),2),revisedExpiryDate=_useState2[0],setRevisedExpiryDate=_useState2[1],_useState4=control_overview_resource_manager_slicedToArray((0,react.useState)(!1),2),working=_useState4[0],setWorking=_useState4[1];(0,react.useEffect)((function(){setRevisedExpiryDate(null==resourceData?void 0:resourceData.expires)}),[null==resourceData?void 0:resourceData.expires]),(0,react.useEffect)((function(){open||setWorking(!1)}),[open]);var handleOnResourceExemptionDelete=function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var controlId,resourceId;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setWorking(!0),controlId=resourceData.controlId,resourceId=resourceData.resourceId,_context.next=4,onResourceExemptionDelete({controlId,resourceId});case 4:onClose();case 5:case"end":return _context.stop()}}),_callee)})));return function handleOnResourceExemptionDelete(){return _ref2.apply(this,arguments)}}(),handleOnResourceExemptionSave=function(){var _ref3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var controlId,resourceId;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return setWorking(!0),controlId=resourceData.controlId,resourceId=resourceData.resourceId,_context2.next=4,onResourceExemptionSave({controlId,resourceId,revisedExpiryDate:revisedExpiryDate.toISOString()});case 4:onClose();case 5:case"end":return _context2.stop()}}),_callee2)})));return function handleOnResourceExemptionSave(){return _ref3.apply(this,arguments)}}();return resourceData?(0,jsx_runtime.jsxs)(Dialog.Z,{"aria-labelledby":"control-overview-resource-manager-title",open,maxWidth:"xs",fullWidth:!0,disableEscapeKeyDown:!0,children:[(0,jsx_runtime.jsx)(WorkingOverlay,{open:working}),(0,jsx_runtime.jsx)(DialogTitle.Z,{id:"control-overview-resource-manager-title",children:"Manage Resource Exemption"}),(0,jsx_runtime.jsxs)(DialogContent.Z,{dividers:!0,children:[(0,jsx_runtime.jsx)(Typography.Z,{variant:"h6",component:"h3",sx:classes.sectionHeader,children:"Ticket:"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:resourceData.ticket}),(0,jsx_runtime.jsx)(Divider.Z,{sx:classes.sectionDivider}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"h6",component:"h3",sx:classes.sectionHeader,children:"Expires:"}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"body2",children:"To save this resource exemption, enter a new date greater than the current expiry date."}),(0,jsx_runtime.jsx)(LocalizationProvider._,{dateAdapter:index_esm.Z,children:(0,jsx_runtime.jsx)(DatePicker.M,{inputFormat:"DD/MM/YYYY",disablePast:!0,value:revisedExpiryDate,onChange:function onChange(date){return setRevisedExpiryDate(date)},renderInput:function renderInput(params){return(0,jsx_runtime.jsx)(TextField.Z,Object.assign({required:!0,fullWidth:!0,margin:"normal",size:"small"},params))},disabled:working,PopperProps:{placement:"auto"}})}),(0,jsx_runtime.jsx)(Divider.Z,{sx:classes.sectionDivider}),(0,jsx_runtime.jsx)(Typography.Z,{variant:"h6",component:"h3",sx:classes.sectionHeader,children:"Resources:"}),(0,jsx_runtime.jsx)(Box.Z,{component:"ul",sx:classes.resourcesList,children:resourceData.resources.map((function(resource){return(0,jsx_runtime.jsx)(Typography.Z,{component:"li",variant:"body2",children:resource},resource)}))})]}),(0,jsx_runtime.jsxs)(DialogActions.Z,{children:[(0,jsx_runtime.jsx)(Button.Z,{onClick:onClose,color:"primary",variant:"outlined",disableElevation:!0,disabled:working,children:"Cancel"}),(0,jsx_runtime.jsx)(Button.Z,{onClick:handleOnResourceExemptionDelete,color:"primary",variant:"contained",disableElevation:!0,disabled:working,children:working?"Working...":"Delete"}),(0,jsx_runtime.jsx)(Button.Z,{onClick:handleOnResourceExemptionSave,color:"primary",variant:"contained",disableElevation:!0,disabled:!dayjs_min_default()(revisedExpiryDate).isAfter(dayjs_min_default()(resourceData.expires))||working,children:working?"Working...":"Save"})]})]}):null}function ControlOverviewResourceEvidenceViewer(_ref){var open=_ref.open,onClose=_ref.onClose,resourceEvidenceData=_ref.resourceEvidenceData;return(0,jsx_runtime.jsxs)(Dialog.Z,{"aria-labelledby":"control-overview-resource-evidence-viewer",open,maxWidth:"lg",fullWidth:!0,disableEscapeKeyDown:!0,children:[(0,jsx_runtime.jsx)(DialogTitle.Z,{id:"control-overview-resource-evidence-viewer",children:"Resource Supporting Evidence"}),(0,jsx_runtime.jsx)(DialogContent.Z,{dividers:!0,children:resourceEvidenceData}),(0,jsx_runtime.jsx)(DialogActions.Z,{children:(0,jsx_runtime.jsx)(Button.Z,{onClick:onClose,color:"primary",variant:"contained",disableElevation:!0,children:"Close"})})]})}function control_overview_slicedToArray(arr,i){return function control_overview_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function control_overview_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function control_overview_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return control_overview_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return control_overview_arrayLikeToArray(o,minLen)}(arr,i)||function control_overview_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function control_overview_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ControlOverview(_ref){var loading=_ref.loading,title=_ref.title,data=_ref.data,onRequestOfControlsData=_ref.onRequestOfControlsData,onRequestOfResourcesData=_ref.onRequestOfResourcesData,onResourceExemptionDelete=_ref.onResourceExemptionDelete,onResourceExemptionSave=_ref.onResourceExemptionSave,theme=(0,useTheme.Z)(),initialResourceManagerStatus={open:!1,controlId:null,resourceId:null},initialResourceEvidenceStatus={open:!1,controlId:null,resourceId:null},_useState2=control_overview_slicedToArray((0,react.useState)(Object.assign({},initialResourceManagerStatus)),2),exemptionManagerStatus=_useState2[0],setExemptionManagerStatus=_useState2[1],_useState4=control_overview_slicedToArray((0,react.useState)(Object.assign({},initialResourceEvidenceStatus)),2),resourceEvidenceStatus=_useState4[0],setResourceEvidenceStatus=_useState4[1],errorMessageFeedback=(0,jsx_runtime.jsx)(components.v,{title:"Error",message:"There was an error attempting to load controls for this application",borderColor:theme.palette.error.main}),noIssuesMessageFeedback=(0,jsx_runtime.jsx)(components.v,{title:"No Controls",message:"There are no controls to display for this application",borderColor:theme.palette.primary.main}),invalidPermissionsMessageFeedback=(0,jsx_runtime.jsx)(components.v,{title:"Permisions Notice",message:"You do not have the required permissions to view controls for this application",borderColor:theme.palette.primary.main}),resourceManagerData=(0,react.useMemo)((function(){var _data$resources$exemp,_data$resources$exemp2;if(!exemptionManagerStatus.open)return null;var resourcesData=null!==(_data$resources$exemp=null===(_data$resources$exemp2=data.resources[exemptionManagerStatus.controlId].filter((function(resource){return resource.id===exemptionManagerStatus.resourceId}))[0])||void 0===_data$resources$exemp2?void 0:_data$resources$exemp2.exemptionData)&&void 0!==_data$resources$exemp?_data$resources$exemp:null;return resourcesData&&(resourcesData.controlId=exemptionManagerStatus.controlId,resourcesData.resourceId=exemptionManagerStatus.resourceId),resourcesData}),[data,exemptionManagerStatus]),resourceEvidenceData=(0,react.useMemo)((function(){var _data$resources$resou;return resourceEvidenceStatus.open&&null!==(_data$resources$resou=data.resources[resourceEvidenceStatus.controlId].filter((function(resource){return resource.id===resourceEvidenceStatus.resourceId}))[0].evidence)&&void 0!==_data$resources$resou?_data$resources$resou:null}),[data,resourceEvidenceStatus]);return loading?(0,jsx_runtime.jsx)(Skeleton.Z,{variant:"rect",width:"100%",height:200}):data&&"loading"!==data.groups?data.groups?"error"===data.groups?errorMessageFeedback:Array.isArray(data.groups)?data.groups.length<1?noIssuesMessageFeedback:(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)(Paper.Z,{elevation:1,children:[(0,jsx_runtime.jsx)(ControlOverviewHeader,{title}),data.groups.map((function(group){return(0,jsx_runtime.jsx)(ControlOverviewGroup,{groupTitle:group.title,id:group.id,onChange:onRequestOfControlsData,children:data.controls&&data.controls[group.id]&&"loading"!==data.controls[group.id]?"error"===data.controls[group.id]?(0,jsx_runtime.jsx)(Box.Z,{padding:2,children:(0,jsx_runtime.jsx)(components.v,{title:"Error",message:"There was an error attempting to fetch controls for this group",borderColor:theme.palette.error.main})}):Array.isArray(data.controls[group.id])?data.controls[group.id].length<1?(0,jsx_runtime.jsx)(Box.Z,{padding:2,children:(0,jsx_runtime.jsx)(components.v,{title:"No Controls",message:"There are no controls to display for this group",borderColor:theme.palette.primary.main})}):null===(_data$controls$group$=data.controls[group.id])||void 0===_data$controls$group$?void 0:_data$controls$group$.map((function(control){return(0,jsx_runtime.jsxs)(ControlOverviewItem,{id:control.id,name:control.name,severity:control.severity,applied:control.applied,exempt:control.exempt,onChange:onRequestOfResourcesData,children:[(0,jsx_runtime.jsx)(ControlOverviewItemDetail,{control:control.control,frameworks:control.frameworks,controlAction:control.controlAction,lifecycle:control.lifecycle}),data.resources&&data.resources[control.id]&&"loading"!==data.resources[control.id]?"error"===data.resources[control.id]?(0,jsx_runtime.jsx)(Box.Z,{paddingTop:1,children:(0,jsx_runtime.jsx)(components.v,{title:"Error",message:"There was an error attempting to fetch resources for this control",borderColor:theme.palette.error.main})}):Array.isArray(data.resources[control.id])?data.resources[control.id].length<1?(0,jsx_runtime.jsx)(Box.Z,{paddingTop:1,children:(0,jsx_runtime.jsx)(components.v,{title:"No Resources",message:"There are no resources to display for this control",borderColor:theme.palette.primary.main})}):(0,jsx_runtime.jsx)(ControlOverviewItemResources,{controlId:control.id,resourcesData:data.resources[control.id],onManageResourceClick:function onManageResourceClick(resourceId){!function handleOnManageResourceClick(controlId,resourceId){setExemptionManagerStatus({open:!0,controlId,resourceId})}(control.id,resourceId)},onViewResourceEvidence:function onViewResourceEvidence(resourceId){!function handleOnViewResourceEvidenceClick(controlId,resourceId){setResourceEvidenceStatus({open:!0,controlId,resourceId})}(control.id,resourceId)}}):void 0:(0,jsx_runtime.jsx)(ControlOverviewLoadingIndicator,{})]},control.id)})):void 0:(0,jsx_runtime.jsx)(ControlOverviewLoadingIndicator,{padding:!0})},group.id);var _data$controls$group$}))]}),(0,jsx_runtime.jsx)(ControlOverviewResourceManager,{open:exemptionManagerStatus.open,onClose:function handleOnResourceManagerClose(){setExemptionManagerStatus(Object.assign({},initialResourceManagerStatus))},resourceData:resourceManagerData,onResourceExemptionDelete,onResourceExemptionSave}),(0,jsx_runtime.jsx)(ControlOverviewResourceEvidenceViewer,{open:resourceEvidenceStatus.open,onClose:function handleOnViewResourceEvidenceClose(){setResourceEvidenceStatus(Object.assign({},initialResourceEvidenceStatus))},resourceEvidenceData})]}):void 0:invalidPermissionsMessageFeedback:(0,jsx_runtime.jsx)(ControlOverviewLoadingIndicator,{padding:!0})}function use_control_overview_controller_regeneratorRuntime(){use_control_overview_controller_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function use_control_overview_controller_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function use_control_overview_controller_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){use_control_overview_controller_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){use_control_overview_controller_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function use_control_overview_controller_slicedToArray(arr,i){return function use_control_overview_controller_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function use_control_overview_controller_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function use_control_overview_controller_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return use_control_overview_controller_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return use_control_overview_controller_arrayLikeToArray(o,minLen)}(arr,i)||function use_control_overview_controller_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function use_control_overview_controller_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function reducer(state,action){switch(action.type){case"INITIALIZE":return{groups:action.payload,controls:void 0,resources:void 0};case"SET_CONTROLS_DATA":var _Object$assign;return Object.assign({},state,{controls:Object.assign({},null==state?void 0:state.controls,(_Object$assign={},_Object$assign[action.id]=action.payload,_Object$assign))});case"SET_RESOURCES_DATA":var _Object$assign2;return Object.assign({},state,{resources:Object.assign({},null==state?void 0:state.resources,(_Object$assign2={},_Object$assign2[action.id]=action.payload,_Object$assign2))});default:throw new Error("Unhandled action type: "+action.type)}}WorkingOverlay.displayName="WorkingOverlay",WorkingOverlay.propTypes={open:prop_types_default().bool.isRequired,color:prop_types_default().string},WorkingOverlay.__docgenInfo={description:"",methods:[],displayName:"WorkingOverlay",props:{open:{description:"Toggles the visibility of the component",type:{name:"bool"},required:!0},color:{description:"Sets the color of the progress circle, defaults to theme.primary.main if not set. Accepts a valid [CSS color value](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value)",type:{name:"string"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/control-overview/working-overlay.js"]={name:"WorkingOverlay",docgenInfo:WorkingOverlay.__docgenInfo,path:"src/features/control-overview/working-overlay.js"}),ControlOverviewResourceManager.displayName="ControlOverviewResourceManager",ControlOverviewResourceManager.propTypes={open:prop_types_default().bool.isRequired,onClose:prop_types_default().func.isRequired,resourceData:prop_types_default().shape({ticket:prop_types_default().string.isRequired,expires:prop_types_default().string.isRequired,resources:prop_types_default().arrayOf(prop_types_default().string).isRequired,controlId:prop_types_default().number.isRequired,resourceId:prop_types_default().number.isRequired}),onResourceExemptionDelete:prop_types_default().func.isRequired,onResourceExemptionSave:prop_types_default().func.isRequired},ControlOverviewResourceManager.__docgenInfo={description:"",methods:[],displayName:"ControlOverviewResourceManager",props:{open:{description:"",type:{name:"bool"},required:!0},onClose:{description:"",type:{name:"func"},required:!0},resourceData:{description:"",type:{name:"shape",value:{ticket:{name:"string",required:!0},expires:{name:"string",required:!0},resources:{name:"arrayOf",value:{name:"string"},required:!0},controlId:{name:"number",required:!0},resourceId:{name:"number",required:!0}}},required:!1},onResourceExemptionDelete:{description:"",type:{name:"func"},required:!0},onResourceExemptionSave:{description:"",type:{name:"func"},required:!0}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/control-overview/control-overview-resource-manager.js"]={name:"ControlOverviewResourceManager",docgenInfo:ControlOverviewResourceManager.__docgenInfo,path:"src/features/control-overview/control-overview-resource-manager.js"}),ControlOverviewResourceEvidenceViewer.displayName="ControlOverviewResourceEvidenceViewer",ControlOverviewResourceEvidenceViewer.propTypes={open:prop_types_default().bool.isRequired,onClose:prop_types_default().func.isRequired,resourceEvidenceData:prop_types_default().string},ControlOverviewResourceEvidenceViewer.__docgenInfo={description:"",methods:[],displayName:"ControlOverviewResourceEvidenceViewer",props:{open:{description:"",type:{name:"bool"},required:!0},onClose:{description:"",type:{name:"func"},required:!0},resourceEvidenceData:{description:"",type:{name:"string"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/control-overview/control-overview-resource-evidence-viewer.js"]={name:"ControlOverviewResourceEvidenceViewer",docgenInfo:ControlOverviewResourceEvidenceViewer.__docgenInfo,path:"src/features/control-overview/control-overview-resource-evidence-viewer.js"}),ControlOverview.propTypes={loading:prop_types_default().bool,title:prop_types_default().string,data:prop_types_default().shape({groups:prop_types_default().oneOfType([prop_types_default().arrayOf(prop_types_default().shape({id:prop_types_default().number,title:prop_types_default().string})),prop_types_default().oneOf(["error","loading"])]),controls:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().arrayOf(prop_types_default().shape({id:prop_types_default().number,name:prop_types_default().string,severity:prop_types_default().oneOf(["Low","Medium","High"]),applied:prop_types_default().number,exempt:prop_types_default().number,control:prop_types_default().shape({name:prop_types_default().string,url:prop_types_default().string}),frameworks:prop_types_default().arrayOf(prop_types_default().shape({name:prop_types_default().string,url:prop_types_default().string})),qualityModel:prop_types_default().string,lifecycle:prop_types_default().string})),prop_types_default().oneOf(["error","loading"])])),resources:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().arrayOf(prop_types_default().shape({id:prop_types_default().number,type:prop_types_default().string,reference:prop_types_default().string,environment:prop_types_default().string,lastSeen:prop_types_default().string,status:prop_types_default().oneOf(["Monitoring","Non-Compliant","Exempt"]),pending:prop_types_default().bool,exemptionData:prop_types_default().shape({ticket:prop_types_default().string.isRequired,expires:prop_types_default().string.isRequired,resources:prop_types_default().arrayOf(prop_types_default().string).isRequired})})),prop_types_default().oneOf(["error","loading"])]))}),onRequestOfControlsData:prop_types_default().func,onRequestOfResourcesData:prop_types_default().func,onResourceExemptionDelete:prop_types_default().func,onResourceExemptionSave:prop_types_default().func},ControlOverview.__docgenInfo={description:"",methods:[],displayName:"ControlOverview",props:{loading:{description:"Sets the component to render in a loading state",type:{name:"bool"},required:!1},title:{description:"Sets the title for the component",type:{name:"string"},required:!1},data:{description:"Sets the required data to render the component UI",type:{name:"shape",value:{groups:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"number",required:!1},title:{name:"string",required:!1}}}},{name:"enum",value:[{value:'"error"',computed:!1},{value:'"loading"',computed:!1}]}],required:!1},controls:{name:"objectOf",value:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"number",required:!1},name:{name:"string",required:!1},severity:{name:"enum",value:[{value:'"Low"',computed:!1},{value:'"Medium"',computed:!1},{value:'"High"',computed:!1}],required:!1},applied:{name:"number",required:!1},exempt:{name:"number",required:!1},control:{name:"shape",value:{name:{name:"string",required:!1},url:{name:"string",required:!1}},required:!1},frameworks:{name:"arrayOf",value:{name:"shape",value:{name:{name:"string",required:!1},url:{name:"string",required:!1}}},required:!1},qualityModel:{name:"string",required:!1},lifecycle:{name:"string",required:!1}}}},{name:"enum",value:[{value:'"error"',computed:!1},{value:'"loading"',computed:!1}]}]},required:!1},resources:{name:"objectOf",value:{name:"union",value:[{name:"arrayOf",value:{name:"shape",value:{id:{name:"number",required:!1},type:{name:"string",required:!1},reference:{name:"string",required:!1},environment:{name:"string",required:!1},lastSeen:{name:"string",required:!1},status:{name:"enum",value:[{value:'"Monitoring"',computed:!1},{value:'"Non-Compliant"',computed:!1},{value:'"Exempt"',computed:!1}],required:!1},pending:{name:"bool",required:!1},exemptionData:{name:"shape",value:{ticket:{name:"string",required:!0},expires:{name:"string",required:!0},resources:{name:"arrayOf",value:{name:"string"},required:!0}},required:!1}}}},{name:"enum",value:[{value:'"error"',computed:!1},{value:'"loading"',computed:!1}]}]},required:!1}}},required:!1},onRequestOfControlsData:{description:"Callback for when a user expands a control group and a request is made to fetch the controls for that group. **Signature:** `function(groupId: int) => void`",type:{name:"func"},required:!1},onRequestOfResourcesData:{description:"Callback for when a user expands a control within a given group and a request is made to fetch the resource data for that control. **Signature:** `function(controlId: int) => void`",type:{name:"func"},required:!1},onResourceExemptionDelete:{description:"Callback for when a user requests to delete a specific resource exemption. **Signature:** `function({controlId: Int, resourceId: Int}): Promise`",type:{name:"func"},required:!1},onResourceExemptionSave:{description:"Callback for when a user requests to change the date of a specific resource exemption. **Signature:** `function({controlId: Int, resourceId: Int, revisedExpiryDate: ISO Date String}): Promise`",type:{name:"func"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/features/control-overview/control-overview.js"]={name:"ControlOverview",docgenInfo:ControlOverview.__docgenInfo,path:"src/features/control-overview/control-overview.js"});var groups=[{id:1,title:"Control group will resolve with controls"},{id:2,title:"Control group will resolve with no controls"},{id:3,title:"Control group will resolve with error"}],controls={1:[{id:1,name:"Control will resolve with resources",severity:"Low",applied:5,exempt:6,control:{name:"Control label 1",url:"/"},frameworks:[{name:"FWRK1",url:"/"},{name:"FWRK2",url:"/"}],qualityModel:"Control type test label 1",lifecycle:"Lifecycle test label 1"},{id:2,name:"Control will resolve with no resources",severity:"Medium",applied:5,exempt:6,control:{name:"Control label 2",url:"/"},frameworks:[{name:"FWRK1",url:"/"},{name:"FWRK2",url:"/"}],qualityModel:"Control type test label 2",lifecycle:"Lifecycle test label 2"},{id:3,name:"Control will resolve with error",severity:"High",applied:5,exempt:6,control:{name:"Control label 3",url:"/"},frameworks:[{name:"FWRK1",url:"/"},{name:"FWRK2",url:"/"}],qualityModel:"Control type test label 3",lifecycle:"Lifecycle test label 3"}],2:[]},resources={1:[{id:1,type:"Test instance 1",reference:"Instance reference",environment:"Production",lastSeen:dayjs_min_default()().toISOString(),status:"Monitoring",pending:!1},{id:2,type:"Test instance 2",reference:"Instance reference",environment:"Development",lastSeen:dayjs_min_default()().subtract(1,"day").toISOString(),status:"Non-Compliant",pending:!1,evidence:"Markdown Content"},{id:3,type:"Test instance 3",reference:"Instance reference",environment:"Development",lastSeen:dayjs_min_default()().subtract(1,"month").toISOString(),status:"Exempt",pending:!1,exemptionData:{ticket:"Ticket label for test instance 3",expires:dayjs_min_default()().toISOString(),resources:["Resource One","Resource Two","Resource Three"]}},{id:4,type:"Test instance 4",reference:"Instance reference",environment:"Development",lastSeen:dayjs_min_default()().subtract(1,"year").toISOString(),status:"Exempt",pending:!0},{id:5,type:"Test instance 5",reference:"Instance reference",environment:"Development",lastSeen:dayjs_min_default()().subtract(2,"year").toISOString(),status:"Exempt",pending:!0}],2:[]};function control_overview_stories_slicedToArray(arr,i){return function control_overview_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function control_overview_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function control_overview_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return control_overview_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return control_overview_stories_arrayLikeToArray(o,minLen)}(arr,i)||function control_overview_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function control_overview_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const control_overview_stories={title:"Features/Control Overview",component:ControlOverview,decorators:[function(story){return(0,jsx_runtime.jsx)(Box.Z,{sx:{width:"100%",maxWidth:1024,margin:"0 auto",flex:1},children:story()})}],parameters:{docs:{description:{component:'The `ControlOverview` is a presentational component, that is complimented with an optional controller `useControlOverviewController`, which can be used for state management of group, control and resources data.\n\n## Importing the component and controller\n\n```javascript\nimport {\n  ControlOverview,\n  useControlOverviewController,\n} from "@/components/control-overview";\n```\n\n## Providing data to the component\n\nThe data object used to populate the component is intented to work as a relational table of sub-data, with no data set, the component defaults to a loading state.\n\nThe top level data keys are:\n\n- `groups` : Used to populate control groupings within the UI; the data should be an array of groups or a string, to indicate either an error or loading status. Setting the data to an empty array indicates there are no issues for the component to display.\n- `controls` : Used to store data for controls; the data should be an object of arrays or a string, to indicate either an error or loading status. The object key should be equal to the group id the data relates to; setting the data to an empty array indicates there are no issues for the specific control.\n- `resources` Used to store resource data for a specific control; the data should be an object of arrays or a string, to indicate either an error or loading status. The object key should be equal to the control id the data relates to; setting the data to an empty array indicates there are no resources for the specific control.\n\n## Using the optional controller\n\nThe component comes with an optional controller as a custom React hook, that can be used to manage component state and the asynchronous retrival of the required data.\n\n### Initialising\n\nThe controller hook accepts one parameter (`function`), to act as an mechanism fetch the initial group data. The function should return data equal to the `groups` key within the `data` prop:\n\n```javascript\n[\n  {\n    id: number,\n    title: string\n  }\n] | \'error\',\n```\n\n### Return values\n\nThe controller hook will return an array containing:\n\n#### State\n\nAn object of the current state, used to feed the `data` prop of the `ControlOverview` component.\n\n#### Controls data setter\n\nA function to set the contol data that accepts two parameters, group id (`int`) and an asynchronous function used to fetch control data specific to the requested group.\n\nThis callback to fetch the control data will not be fired if control data already exists for a given group id.\n\nThe function should return data equal to the `controls` key within the `data` prop:\n\n```javascript\n[\n  {\n    id: number,\n    name: string,\n    severity: "Low" | "Medium" | "High",\n    applied: number,\n    exempt: number,\n    control: {\n      name: string,\n      url: string,\n    },\n    frameworks: [\n      {\n        name: string,\n        url: string,\n      },\n    ],\n    qualityModel: string,\n    lifecycle: string,\n  },\n] | "error";\n```\n\n#### Resources data setter\n\nA function to set the resources data that accepts two parameters, control id (`int`) and an asynchronous function used to fetch resources data specific to the requested control id.\n\nThis callback to fetch the resources data will not be fired if resources data already exists for a given control id.\n\nThe function should return data equal to the `resources` key within the `data` prop:\n\n```javascript\n[\n  {\n    id: number,\n    type: string,\n    reference: string,\n    environment: string,\n    lastSeen: string,\n    status: "Monitoring" | "Non-Compliant" | "Exempt",\n    pending: bool,\n    exemptionData: {\n      ticket: string,\n      expires: string // ISO Date String\n      resources: [string]\n    },\n    evidence: string // Markdown\n  },\n] | "error";\n```\n\n#### Initialiser\n\nA function to reset the component data back to it\'s intial state and re-fetch the data. Internally this calls the same function passed when invoking the hook.\n'}},layout:"padded"}};var WithControls=function WithControls(){var _useControlOverviewCo=function useControlOverviewController(getInitalData,applicationId){var _useReducer2=use_control_overview_controller_slicedToArray((0,react.useReducer)(reducer),2),state=_useReducer2[0],dispatch=_useReducer2[1];function initializeData(){return _initializeData.apply(this,arguments)}function _initializeData(){return(_initializeData=use_control_overview_controller_asyncToGenerator(use_control_overview_controller_regeneratorRuntime().mark((function _callee(){var data;return use_control_overview_controller_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return dispatch({type:"INITIALIZE",payload:"loading"}),_context.prev=1,_context.next=4,getInitalData();case 4:data=_context.sent,dispatch({type:"INITIALIZE",payload:data}),_context.next=11;break;case 8:_context.prev=8,_context.t0=_context.catch(1),dispatch({type:"INITIALIZE"});case 11:case"end":return _context.stop()}}),_callee,null,[[1,8]])})))).apply(this,arguments)}function _setControlsData(){return(_setControlsData=use_control_overview_controller_asyncToGenerator(use_control_overview_controller_regeneratorRuntime().mark((function _callee2(id,getData){var _state$controls,groupDataValue,data;return use_control_overview_controller_regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if("loading"===(groupDataValue=null==state||null===(_state$controls=state.controls)||void 0===_state$controls?void 0:_state$controls[id])||void 0!==groupDataValue&&"error"!==groupDataValue){_context2.next=7;break}return dispatch({type:"SET_CONTROLS_DATA",id,payload:"loading"}),_context2.next=5,getData();case 5:data=_context2.sent,dispatch({type:"SET_CONTROLS_DATA",id,payload:data});case 7:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function _setResourcesData(){return(_setResourcesData=use_control_overview_controller_asyncToGenerator(use_control_overview_controller_regeneratorRuntime().mark((function _callee3(id,getData){var _state$resources,resourcesDataValue,data;return use_control_overview_controller_regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if("loading"===(resourcesDataValue=null==state||null===(_state$resources=state.resources)||void 0===_state$resources?void 0:_state$resources[id])||void 0!==resourcesDataValue&&"error"!==resourcesDataValue){_context3.next=7;break}return dispatch({type:"SET_RESOURCES_DATA",id,payload:"loading"}),_context3.next=5,getData();case 5:data=_context3.sent,dispatch({type:"SET_RESOURCES_DATA",id,payload:data});case 7:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}return(0,react.useEffect)((function(){void 0!==applicationId&&initializeData()}),[applicationId]),[state,function setControlsData(_x,_x2){return _setControlsData.apply(this,arguments)},function setResourcesData(_x3,_x4){return _setResourcesData.apply(this,arguments)},initializeData]}((function(){return new Promise((function(resolve){setTimeout((function(){resolve(groups)}),[500])}))}),1),_useControlOverviewCo2=control_overview_stories_slicedToArray(_useControlOverviewCo,3),state=_useControlOverviewCo2[0],setControlsData=_useControlOverviewCo2[1],setResourcesData=_useControlOverviewCo2[2];return(0,jsx_runtime.jsx)(ControlOverview,{title:"Control Overview",data:state,onRequestOfControlsData:function handleOnRequestOfControlsData(id){setControlsData(id,(function(){return new Promise((function(resolve){setTimeout((function(){3===id&&resolve("error"),resolve(controls[id])}),[500])}))}))},onRequestOfResourcesData:function handleOnRequestOfResourcesData(id){setResourcesData(id,(function(){return new Promise((function(resolve){setTimeout((function(){3===id&&resolve("error"),resolve(resources[id])}),[500])}))}))},onResourceExemptionDelete:function handleOnResourceExemptionDelete(){return new Promise((function(resolve){setTimeout((function(){resolve()}),[1e3])}))},onResourceExemptionSave:function handleOnResourceExemptionSave(){return new Promise((function(resolve){setTimeout((function(){resolve()}),[1e3])}))}})};WithControls.displayName="WithControls";var WithNoControls=function WithNoControls(){var data={groups:[],controls:void 0,resources:void 0};return(0,jsx_runtime.jsx)(ControlOverview,{title:"Control Overview",data,onRequestOfControlsData:function onRequestOfControlsData(){},onRequestOfResourcesData:function onRequestOfResourcesData(){}})};WithNoControls.displayName="WithNoControls";var WithError=function WithError(){var data={groups:"error",controls:void 0,resources:void 0};return(0,jsx_runtime.jsx)(ControlOverview,{title:"Control Overview",data,onRequestOfControlsData:function onRequestOfControlsData(){},onRequestOfResourcesData:function onRequestOfResourcesData(){}})};WithError.displayName="WithError";var WithoutRequiredPermissions=function WithoutRequiredPermissions(){var data={groups:null,controls:void 0,resources:void 0};return(0,jsx_runtime.jsx)(ControlOverview,{title:"Control Overview",data,onRequestOfControlsData:function onRequestOfControlsData(){},onRequestOfResourcesData:function onRequestOfResourcesData(){}})};WithoutRequiredPermissions.displayName="WithoutRequiredPermissions";var Loading=function Loading(){var data={groups:void 0,controls:void 0,resources:void 0};return(0,jsx_runtime.jsx)(ControlOverview,{title:"Control Overview",data,loading:!0,onRequestOfControlsData:function onRequestOfControlsData(){},onRequestOfResourcesData:function onRequestOfResourcesData(){}})};Loading.displayName="Loading",WithControls.parameters=Object.assign({storySource:{source:'() => {\n  const [state, setControlsData, setResourcesData] =\n    useControlOverviewController(() => {\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(groups);\n        }, [500]);\n      });\n    }, 1);\n\n  const handleOnRequestOfControlsData = (id) => {\n    setControlsData(id, () => {\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          if (id === 3) resolve("error");\n\n          resolve(controls[id]);\n        }, [500]);\n      });\n    });\n  };\n\n  const handleOnRequestOfResourcesData = (id) => {\n    setResourcesData(id, () => {\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          if (id === 3) resolve("error");\n\n          resolve(resources[id]);\n        }, [500]);\n      });\n    });\n  };\n\n  const handleOnResourceExemptionDelete = () => {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve();\n      }, [1000]);\n    });\n  };\n\n  const handleOnResourceExemptionSave = () => {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve();\n      }, [1000]);\n    });\n  };\n\n  return (\n    <ControlOverview\n      title="Control Overview"\n      data={state}\n      onRequestOfControlsData={handleOnRequestOfControlsData}\n      onRequestOfResourcesData={handleOnRequestOfResourcesData}\n      onResourceExemptionDelete={handleOnResourceExemptionDelete}\n      onResourceExemptionSave={handleOnResourceExemptionSave}\n    />\n  );\n}'}},WithControls.parameters),WithNoControls.parameters=Object.assign({storySource:{source:'() => {\n  const data = {\n    groups: [],\n    controls: undefined,\n    resources: undefined,\n  };\n\n  return (\n    <ControlOverview\n      title="Control Overview"\n      data={data}\n      onRequestOfControlsData={() => {}}\n      onRequestOfResourcesData={() => {}}\n    />\n  );\n}'}},WithNoControls.parameters),WithError.parameters=Object.assign({storySource:{source:'() => {\n  const data = {\n    groups: "error",\n    controls: undefined,\n    resources: undefined,\n  };\n\n  return (\n    <ControlOverview\n      title="Control Overview"\n      data={data}\n      onRequestOfControlsData={() => {}}\n      onRequestOfResourcesData={() => {}}\n    />\n  );\n}'}},WithError.parameters),WithoutRequiredPermissions.parameters=Object.assign({storySource:{source:'() => {\n  const data = {\n    groups: null,\n    controls: undefined,\n    resources: undefined,\n  };\n\n  return (\n    <ControlOverview\n      title="Control Overview"\n      data={data}\n      onRequestOfControlsData={() => {}}\n      onRequestOfResourcesData={() => {}}\n    />\n  );\n}'}},WithoutRequiredPermissions.parameters),Loading.parameters=Object.assign({storySource:{source:'() => {\n  const data = {\n    groups: undefined,\n    controls: undefined,\n    resources: undefined,\n  };\n\n  return (\n    <ControlOverview\n      title="Control Overview"\n      data={data}\n      loading={true}\n      onRequestOfControlsData={() => {}}\n      onRequestOfResourcesData={() => {}}\n    />\n  );\n}'}},Loading.parameters);var __namedExportsOrder=["WithControls","WithNoControls","WithError","WithoutRequiredPermissions","Loading"];WithControls.__docgenInfo={description:"",methods:[],displayName:"WithControls"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/control-overview/control-overview.stories.js"]={name:"WithControls",docgenInfo:WithControls.__docgenInfo,path:"src/stories/control-overview/control-overview.stories.js"}),WithNoControls.__docgenInfo={description:"",methods:[],displayName:"WithNoControls"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/control-overview/control-overview.stories.js"]={name:"WithNoControls",docgenInfo:WithNoControls.__docgenInfo,path:"src/stories/control-overview/control-overview.stories.js"}),WithError.__docgenInfo={description:"",methods:[],displayName:"WithError"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/control-overview/control-overview.stories.js"]={name:"WithError",docgenInfo:WithError.__docgenInfo,path:"src/stories/control-overview/control-overview.stories.js"}),WithoutRequiredPermissions.__docgenInfo={description:"",methods:[],displayName:"WithoutRequiredPermissions"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/control-overview/control-overview.stories.js"]={name:"WithoutRequiredPermissions",docgenInfo:WithoutRequiredPermissions.__docgenInfo,path:"src/stories/control-overview/control-overview.stories.js"}),Loading.__docgenInfo={description:"",methods:[],displayName:"Loading"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/control-overview/control-overview.stories.js"]={name:"Loading",docgenInfo:Loading.__docgenInfo,path:"src/stories/control-overview/control-overview.stories.js"})},"./src/components/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>Message});__webpack_require__("../../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/react/index.js");var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),Paper=__webpack_require__("../../node_modules/@mui/material/Paper/Paper.js"),Typography=__webpack_require__("../../node_modules/@mui/material/Typography/Typography.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["borderColor","title","message","sx"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Message(_ref){var _ref$borderColor=_ref.borderColor,borderColor=void 0===_ref$borderColor?"#000":_ref$borderColor,title=_ref.title,message=_ref.message,sx=_ref.sx,rest=_objectWithoutProperties(_ref,_excluded);return(0,jsx_runtime.jsxs)(Paper.Z,Object.assign({variant:"outlined",sx:Object.assign({padding:2,borderTop:4,borderTopColor:borderColor},sx)},rest,{children:[title&&(0,jsx_runtime.jsx)(Typography.Z,{align:"center",variant:"subtitle1",children:title}),message&&(0,jsx_runtime.jsx)(Typography.Z,{align:"center",variant:"body2",children:message})]}))}Message.displayName="Message",Message.propTypes={borderColor:prop_types_default().string,title:prop_types_default().string,message:prop_types_default().string,sx:prop_types_default().object},Message.__docgenInfo={description:"",methods:[],displayName:"Message",props:{borderColor:{defaultValue:{value:'"#000"',computed:!1},description:"",type:{name:"string"},required:!1},title:{description:"",type:{name:"string"},required:!1},message:{description:"",type:{name:"string"},required:!1},sx:{description:"",type:{name:"object"},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/message/message.js"]={name:"Message",docgenInfo:Message.__docgenInfo,path:"src/components/message/message.js"})}}]);